<!DOCTYPE html>
<html lang="en">

<!-- Head tag -->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <script data-ad-client="ca-pub-2488174175014870" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script> <!-- google ad -->
    <meta name="google-site-verification" content="40lMg4eqLLbXoDcpN3h-cEnfmselbQ8tUzNvuC0IRIs" /><!-- google 站点认证 -->
    <meta name="baidu-site-verification" content="093lY4ziMu" />
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="description" content="A hexo theme">
    <meta name="keyword"  content="hexo, hexo-theme-lp">
    <link rel="shortcut icon" href="/img/ironman-draw.png">
    <!-- Place this tag in your head or just before your close body tag. -->
    <script async defer src="https://buttons.github.io/buttons.js"></script>
    <!--<link href='http://fonts.googleapis.com/css?family=Montserrat:400,700' rel='stylesheet' type='text/css'>-->
    <title>
        
          Python笔记day46（MySQL）|索引、limit分页、慢日志 - Hexo-theme-lp
        
    </title>

    <link rel="canonical" href="https://flepeng.github.io/2018/09/02/other-1-2018-09-02-Python笔记day46（MySQL）/">

    <!-- Bootstrap Core CSS -->
    
<link rel="stylesheet" href="/css/bootstrap.min.css">


    <!-- Custom CSS --> 
    
        
<link rel="stylesheet" href="/css/dusign-light.css">

        
<link rel="stylesheet" href="/css/dusign-common-light.css">

        
<link rel="stylesheet" href="/css/font-awesome.css">

        
<link rel="stylesheet" href="/css/toc.css">

        <!-- background effects end -->
    
    
    <!-- Pygments Highlight CSS -->
    
<link rel="stylesheet" href="/css/highlight.css">


    
<link rel="stylesheet" href="/css/widget.css">


    
<link rel="stylesheet" href="/css/rocket.css">


    
<link rel="stylesheet" href="/css/signature.css">


    
<link rel="stylesheet" href="/css/fonts.googleapis.css">


    <link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.3.0/css/font-awesome.min.css">

    <!-- photography -->
    
<link rel="stylesheet" href="/css/photography.css">


    <!-- ga & ba script hoook -->
    <script></script>
<meta name="generator" content="Hexo 4.2.1"></head>


<!-- hack iOS CSS :active style -->
<body ontouchstart="">

    <!-- background effects start -->
    
    <!-- background effects end -->

	<!-- Post Header -->
<style type="text/css">
    header.intro-header{
        
            
                background-image: linear-gradient(rgba(0, 0, 0, 0.3), rgba(0, 0, 0, 0.3)), url('/img/post-bg-os-metro.jpg')
                /*post*/
            
        
    }
    
    #signature{
        background-image: url('/img/signature/dusign.png');
    }
    
</style>

<header class="intro-header" >
    <!-- Signature -->
    <div id="signature">
        <div class="container">
            <div class="row">
                <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                
                    <div class="post-heading">
                        <div class="tags">
                            
                              <a class="tag" href="/tags/#Python" title="Python">Python</a>
                            
                              <a class="tag" href="/tags/#MySQL" title="MySQL">MySQL</a>
                            
                              <a class="tag" href="/tags/#编程" title="编程">编程</a>
                            
                        </div>
                        <h1>Python笔记day46（MySQL）|索引、limit分页、慢日志</h1>
                        <h2 class="subheading">索引、limit分页、慢日志</h2>
                        <span class="meta">
                            Posted by Lepeng on
                            2018-09-02
                        </span>

                        
                            <div class="blank_box"></div>
                            <span class="meta">
                                Words <span class="post-count">2.9k</span> and
                                Reading Time <span class="post-count">12</span> Minutes
                            </span>
                            <div class="blank_box"></div>
                            <!-- 不蒜子统计 start -->
                            <span class="meta">
                                Viewed <span id="busuanzi_value_page_pv"><i class="fa fa-spinner fa-spin"></i></span> Times
                            </span>
                            <!-- 不蒜子统计 end -->
                        

                    </div>
                

                </div>
            </div>
        </div>      
    </div>

    
    <div class="waveWrapper">
        <div class="wave wave_before" style="background-image: url('/img/wave-light.png')"></div>
        <div class="wave wave_after" style="background-image: url('/img/wave-light.png')"></div>
    </div>
    
</header>

	
    <!-- Navigation -->
<nav class="navbar navbar-default navbar-custom navbar-fixed-top">
    <div class="container-fluid">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header page-scroll">
            <button type="button" class="navbar-toggle">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/">Lepeng</a>
        </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <!-- Known Issue, found by Hux:
            <nav>'s height woule be hold on by its content.
            so, when navbar scale out, the <nav> will cover tags.
            also mask any touch event of tags, unfortunately.
        -->
        <div id="huxblog_navbar">
            <div class="navbar-collapse">
                <ul class="nav navbar-nav navbar-right">
                    <li>
                        <a href="/">Home</a>
                    </li>

                    

                        
                    

                        
                    

                        
                        <li>
                            <a href="/about/">About</a>
                        </li>
                        
                    

                        
                        <li>
                            <a href="/categories/">Categories</a>
                        </li>
                        
                    

                        
                        <li>
                            <a href="/archive/">Archives</a>
                        </li>
                        
                    

                        
                        <li>
                            <a href="/tags/">Tags</a>
                        </li>
                        
                    
                    
                    
                    <li>
                        <a href="http://flepeng.com" target="_blank">chinese_blog</a>
                    </li>
                    
                </ul>
            </div>
        </div>
        <!-- /.navbar-collapse -->
    </div>
    <!-- /.container -->
</nav>
<script>
    // Drop Bootstarp low-performance Navbar
    // Use customize navbar with high-quality material design animation
    // in high-perf jank-free CSS3 implementation
    var $body   = document.body;
    var $toggle = document.querySelector('.navbar-toggle');
    var $navbar = document.querySelector('#huxblog_navbar');
    var $collapse = document.querySelector('.navbar-collapse');

    $toggle.addEventListener('click', handleMagic)
    function handleMagic(e){
        if ($navbar.className.indexOf('in') > 0) {
        // CLOSE
            $navbar.className = " ";
            // wait until animation end.
            setTimeout(function(){
                // prevent frequently toggle
                if($navbar.className.indexOf('in') < 0) {
                    $collapse.style.height = "0px"
                }
            },400)
        }else{
        // OPEN
            $collapse.style.height = "auto"
            $navbar.className += " in";
        }
    }
</script>


    <!-- Main Content -->
    <!-- Post Content -->
<article>
    <div class="container">
        <div class="row">

            <!-- Post Container -->
            <div class="
                col-lg-8 col-lg-offset-2
                col-md-10 col-md-offset-1
                post-container">

                <blockquote>
<p>索引、limit分页、慢日志 | 若本文不能正常显示 <a href="https://blog.csdn.net/qq_34755081/article/details/82316526" target="_blank" rel="noopener">点击这里</a></p>
</blockquote>
<h4 id="1，索引"><a href="#1，索引" class="headerlink" title="1，索引"></a>1，索引</h4><p>索引，是数据库中专门用于帮助用户快速查询数据的一种数据结构。类似于字典中的目录，查找字典内容时可以根据目录查找到数据的存放位置，然后直接获取即可。<br><strong>MySQL中常见索引有：</strong></p>
<p>普通索引<br>唯一索引<br>主键索引<br>组合索引</p>
<h6 id="1）普通索引"><a href="#1）普通索引" class="headerlink" title="1）普通索引"></a>1）普通索引</h6><p>普通索引仅有一个功能：加速查询</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">create table in1(</span><br><span class="line">    nid int not null auto_increment primary key,</span><br><span class="line">    name varchar(32) not null,</span><br><span class="line">    email varchar(64) not null,</span><br><span class="line">    extra text,</span><br><span class="line">    index ix_name (name)</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<a id="more"></a>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">create index index_name on table_name(column_name)</span><br><span class="line"></span><br><span class="line">drop index_name on table_name;</span><br><span class="line"></span><br><span class="line">show index from table_name;</span><br></pre></td></tr></table></figure>
<p>注意：对于创建索引时如果是BLOB 和 TEXT 类型，必须指定length。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">create index ix_extra on in1(extra(32));</span><br></pre></td></tr></table></figure>
<h6 id="2）唯一索引"><a href="#2）唯一索引" class="headerlink" title="2）唯一索引"></a>2）唯一索引</h6><p>唯一索引有两个功能：加速查询 和 唯一约束（可含null）</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">create table in1(</span><br><span class="line">    nid int not null auto_increment primary key,</span><br><span class="line">    name varchar(32) not null,</span><br><span class="line">    email varchar(64) not null,</span><br><span class="line">    extra text,</span><br><span class="line">    unique ix_name (name)</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">create unique index 索引名 on 表名(列名)</span><br><span class="line"></span><br><span class="line">drop unique index 索引名 on 表名</span><br></pre></td></tr></table></figure>
<h6 id="3）主键索引"><a href="#3）主键索引" class="headerlink" title="3）主键索引"></a>3）主键索引</h6><p>主键有两个功能：加速查询 和 唯一约束（不可含null）</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">create table in1(</span><br><span class="line">    nid int not null auto_increment primary key,</span><br><span class="line">    name varchar(32) not null,</span><br><span class="line">    email varchar(64) not null,</span><br><span class="line">    extra text,</span><br><span class="line">    index ix_name (name)</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">OR</span><br><span class="line"></span><br><span class="line">create table in1(</span><br><span class="line">    nid int not null auto_increment,</span><br><span class="line">    name varchar(32) not null,</span><br><span class="line">    email varchar(64) not null,</span><br><span class="line">    extra text,</span><br><span class="line">    primary key(ni1),</span><br><span class="line">    index ix_name (name)</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">alter table 表名 add primary key(列名);</span><br><span class="line"></span><br><span class="line">alter table 表名 drop primary key;</span><br><span class="line">alter table 表名  modify  列名 int, drop primary key;</span><br></pre></td></tr></table></figure>
<h6 id="4）组合索引"><a href="#4）组合索引" class="headerlink" title="4）组合索引"></a>4）组合索引</h6><p>组合索引是将n个列组合成一个索引</p>
<p>其应用场景为：频繁的同时使用n列来进行查询，如：where n1 = ‘alex’ and n2 = 666。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">create table in3(</span><br><span class="line">    nid int not null auto_increment primary key,</span><br><span class="line">    name varchar(32) not null,</span><br><span class="line">    email varchar(64) not null,</span><br><span class="line">    extra text</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">create index ix_name_email on in3(name,email);</span><br></pre></td></tr></table></figure>
<p>如上创建组合索引之后，查询：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">name and email  -- 使用索引</span><br><span class="line">name                 -- 使用索引</span><br><span class="line">email                 -- 不使用索引</span><br></pre></td></tr></table></figure>
<p>注意：对于同时搜索n个条件时，组合索引的性能好于多个单一索引合并。</p>
<hr>
<h4 id="2，索引补充"><a href="#2，索引补充" class="headerlink" title="2，索引补充"></a>2，索引补充</h4><h6 id="1）索引"><a href="#1）索引" class="headerlink" title="1）索引"></a>1）索引</h6><p>　　索引是表的目录，在查找内容之前可以先在目录中查找索引位置，以此快速定位查询数据。对于索引，会保存在额外的文件中。</p>
<h6 id="2）索引种类"><a href="#2）索引种类" class="headerlink" title="2）索引种类"></a>2）索引种类</h6><p>普通索引：仅加速查询<br>唯一索引：加速查询 + 列值唯一（可以有null）<br>主键索引：加速查询 + 列值唯一 +　表中只有一个（不可以有null）<br>组合索引：多列值组成一个索引，<br>              专门用于组合搜索，其效率大于索引合并<br>全文索引：对文本的内容进行分词，进行搜索<br>索引合并，使用多个单列索引组合搜索<br>覆盖索引，select的数据列只用从索引中就能够取得，不必读取数据行，换句话说查询列要被所建的索引覆盖</p>
<h6 id="3）相关命令"><a href="#3）相关命令" class="headerlink" title="3）相关命令"></a>3）相关命令</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">- 查看表结构</span><br><span class="line">    desc 表名</span><br><span class="line"> </span><br><span class="line">- 查看生成表的SQL</span><br><span class="line">    show create table 表名</span><br><span class="line"> </span><br><span class="line">- 查看索引</span><br><span class="line">    show index from  表名</span><br><span class="line"> </span><br><span class="line">- 查看执行时间</span><br><span class="line">    set profiling &#x3D; 1;</span><br><span class="line">    SQL...</span><br><span class="line">    show profiles;</span><br></pre></td></tr></table></figure>
<h6 id="4）使用索引和不使用索引"><a href="#4）使用索引和不使用索引" class="headerlink" title="4）使用索引和不使用索引"></a>4）使用索引和不使用索引</h6><p>由于索引是专门用于加速搜索而生，所以加上索引之后，查询效率会快到飞起来。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"># 有索引</span><br><span class="line">mysql&gt; select * from tb1 where name &#x3D; &#39;wupeiqi-888&#39;;</span><br><span class="line">+-----+-------------+---------------------+----------------------------------+---------------------+</span><br><span class="line">| nid | name        | email               | radom                            | ctime               |</span><br><span class="line">+-----+-------------+---------------------+----------------------------------+---------------------+</span><br><span class="line">| 889 | wupeiqi-888 | wupeiqi888@live.com | 5312269e76a16a90b8a8301d5314204b | 2016-08-03 09:33:35 |</span><br><span class="line">+-----+-------------+---------------------+----------------------------------+---------------------+</span><br><span class="line">1 row in set (0.00 sec)</span><br><span class="line"> </span><br><span class="line"># 无索引</span><br><span class="line">mysql&gt; select * from tb1 where email &#x3D; &#39;wupeiqi888@live.com&#39;;</span><br><span class="line">+-----+-------------+---------------------+----------------------------------+---------------------+</span><br><span class="line">| nid | name        | email               | radom                            | ctime               |</span><br><span class="line">+-----+-------------+---------------------+----------------------------------+---------------------+</span><br><span class="line">| 889 | wupeiqi-888 | wupeiqi888@live.com | 5312269e76a16a90b8a8301d5314204b | 2016-08-03 09:33:35 |</span><br><span class="line">+-----+-------------+---------------------+----------------------------------+---------------------+</span><br><span class="line">1 row in set (1.23 sec)</span><br></pre></td></tr></table></figure>
<h6 id="5）正确使用索引"><a href="#5）正确使用索引" class="headerlink" title="5）正确使用索引"></a>5）正确使用索引</h6><p>数据库表中添加索引后确实会让查询速度起飞，但前提必须是正确的使用索引来查询，如果以错误的方式使用，则即使建立索引也会不奏效。<br>即使建立索引，索引也不会生效：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">- like &#39;%xx&#39;</span><br><span class="line">    select * from tb1 where name like &#39;%cn&#39;;</span><br><span class="line">- 使用函数</span><br><span class="line">    select * from tb1 where reverse(name) &#x3D; &#39;wupeiqi&#39;;</span><br><span class="line">- or</span><br><span class="line">    select * from tb1 where nid &#x3D; 1 or email &#x3D; &#39;seven@live.com&#39;;</span><br><span class="line">    特别的：当or条件中有未建立索引的列才失效，以下会走索引</span><br><span class="line">            select * from tb1 where nid &#x3D; 1 or name &#x3D; &#39;seven&#39;;</span><br><span class="line">            select * from tb1 where nid &#x3D; 1 or email &#x3D; &#39;seven@live.com&#39; and name &#x3D; &#39;alex&#39;</span><br><span class="line">- 类型不一致</span><br><span class="line">    如果列是字符串类型，传入条件是必须用引号引起来，不然...</span><br><span class="line">    select * from tb1 where name &#x3D; 999;</span><br><span class="line">- !&#x3D;</span><br><span class="line">    select * from tb1 where name !&#x3D; &#39;alex&#39;</span><br><span class="line">    特别的：如果是主键，则还是会走索引</span><br><span class="line">        select * from tb1 where nid !&#x3D; 123</span><br><span class="line">- &gt;</span><br><span class="line">    select * from tb1 where name &gt; &#39;alex&#39;</span><br><span class="line">    特别的：如果是主键或索引是整数类型，则还是会走索引</span><br><span class="line">        select * from tb1 where nid &gt; 123</span><br><span class="line">        select * from tb1 where num &gt; 123</span><br><span class="line">- order by</span><br><span class="line">    select email from tb1 order by name desc;</span><br><span class="line">    当根据索引排序时候，选择的映射如果不是索引，则不走索引</span><br><span class="line">    特别的：如果对主键排序，则还是走索引：</span><br><span class="line">        select * from tb1 order by nid desc;</span><br><span class="line"> </span><br><span class="line">- 组合索引最左前缀</span><br><span class="line">    如果组合索引为：(name,email)</span><br><span class="line">    name and email       -- 使用索引</span><br><span class="line">    name                 -- 使用索引</span><br><span class="line">    email                -- 不使用索引</span><br></pre></td></tr></table></figure>
<h6 id="6）其他注意事项"><a href="#6）其他注意事项" class="headerlink" title="6）其他注意事项"></a>6）其他注意事项</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">- 避免使用select *</span><br><span class="line">- count(1)或count(列) 代替 count(*)</span><br><span class="line">- 创建表时尽量时 char 代替 varchar</span><br><span class="line">- 表的字段顺序固定长度的字段优先</span><br><span class="line">- 组合索引代替多个单列索引（经常使用多个条件查询时）</span><br><span class="line">- 尽量使用短索引</span><br><span class="line">- 使用连接（JOIN）来代替子查询(Sub-Queries)</span><br><span class="line">- 连表时注意条件类型需一致</span><br><span class="line">- 索引散列值（重复少）不适合建索引，例：性别不适合</span><br></pre></td></tr></table></figure>
<h6 id="7）limit分页"><a href="#7）limit分页" class="headerlink" title="7）limit分页"></a>7）limit分页</h6><p>无论是否有索引，limit分页是一个值得关注的问题</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line">每页显示10条：</span><br><span class="line">当前 118 120， 125</span><br><span class="line"></span><br><span class="line">倒序：</span><br><span class="line">            大      小</span><br><span class="line">            980    970  7 6  6 5  54  43  32</span><br><span class="line"></span><br><span class="line">21 19 98     </span><br><span class="line">下一页：</span><br><span class="line"></span><br><span class="line">    select </span><br><span class="line">        * </span><br><span class="line">    from </span><br><span class="line">        tb1 </span><br><span class="line">    where </span><br><span class="line">        nid &lt; (select nid from (select nid from tb1 where nid &lt; 当前页最小值 order by nid desc limit 每页数据 *【页码-当前页】) A order by A.nid asc limit 1)  </span><br><span class="line">    order by </span><br><span class="line">        nid desc </span><br><span class="line">    limit 10;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    select </span><br><span class="line">        * </span><br><span class="line">    from </span><br><span class="line">        tb1 </span><br><span class="line">    where </span><br><span class="line">        nid &lt; (select nid from (select nid from tb1 where nid &lt; 970  order by nid desc limit 40) A order by A.nid asc limit 1)  </span><br><span class="line">    order by </span><br><span class="line">        nid desc </span><br><span class="line">    limit 10;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">上一页：</span><br><span class="line"></span><br><span class="line">    select </span><br><span class="line">        * </span><br><span class="line">    from </span><br><span class="line">        tb1 </span><br><span class="line">    where </span><br><span class="line">        nid &lt; (select nid from (select nid from tb1 where nid &gt; 当前页最大值 order by nid asc limit 每页数据 *【当前页-页码】) A order by A.nid asc limit 1)  </span><br><span class="line">    order by </span><br><span class="line">        nid desc </span><br><span class="line">    limit 10;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    select </span><br><span class="line">        * </span><br><span class="line">    from </span><br><span class="line">        tb1 </span><br><span class="line">    where </span><br><span class="line">        nid &lt; (select nid from (select nid from tb1 where nid &gt; 980 order by nid asc limit 20) A order by A.nid desc limit 1)  </span><br><span class="line">    order by </span><br><span class="line">        nid desc </span><br><span class="line">    limit 10;</span><br></pre></td></tr></table></figure>
<h6 id="8）执行计划"><a href="#8）执行计划" class="headerlink" title="8）执行计划"></a>8）执行计划</h6><p>explain + 查询SQL - 用于显示SQL执行信息参数，根据参考信息可以进行SQL优化</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; explain select * from tb2;</span><br><span class="line">+----+-------------+-------+------+---------------+------+---------+------+------+-------+</span><br><span class="line">| id | select_type | table | type | possible_keys | key  | key_len | ref  | rows | Extra |</span><br><span class="line">+----+-------------+-------+------+---------------+------+---------+------+------+-------+</span><br><span class="line">|  1 | SIMPLE      | tb2   | ALL  | NULL          | NULL | NULL    | NULL |    2 | NULL  |</span><br><span class="line">+----+-------------+-------+------+---------------+------+---------+------+------+-------+</span><br><span class="line">1 row in set (0.00 sec)</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br></pre></td><td class="code"><pre><span class="line">id</span><br><span class="line">    查询顺序标识</span><br><span class="line">        如：mysql&gt; explain select * from (select nid,name from tb1 where nid &lt; 10) as B;</span><br><span class="line">        +----+-------------+------------+-------+---------------+---------+---------+------+------+-------------+</span><br><span class="line">        | id | select_type | table      | type  | possible_keys | key     | key_len | ref  | rows | Extra       |</span><br><span class="line">        +----+-------------+------------+-------+---------------+---------+---------+------+------+-------------+</span><br><span class="line">        |  1 | PRIMARY     | &lt;derived2&gt; | ALL   | NULL          | NULL    | NULL    | NULL |    9 | NULL        |</span><br><span class="line">        |  2 | DERIVED     | tb1        | range | PRIMARY       | PRIMARY | 8       | NULL |    9 | Using where |</span><br><span class="line">        +----+-------------+------------+-------+---------------+---------+---------+------+------+-------------+</span><br><span class="line">    特别的：如果使用union连接气值可能为null</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">select_type</span><br><span class="line">    查询类型</span><br><span class="line">        SIMPLE          简单查询</span><br><span class="line">        PRIMARY         最外层查询</span><br><span class="line">        SUBQUERY        映射为子查询</span><br><span class="line">        DERIVED         子查询</span><br><span class="line">        UNION           联合</span><br><span class="line">        UNION RESULT    使用联合的结果</span><br><span class="line">        ...</span><br><span class="line">table</span><br><span class="line">    正在访问的表名</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">type</span><br><span class="line">    查询时的访问方式，性能：all &lt; index &lt; range &lt; index_merge &lt; ref_or_null &lt; ref &lt; eq_ref &lt; system&#x2F;const</span><br><span class="line">        ALL             全表扫描，对于数据表从头到尾找一遍</span><br><span class="line">                        select * from tb1;</span><br><span class="line">                        特别的：如果有limit限制，则找到之后就不在继续向下扫描</span><br><span class="line">                               select * from tb1 where email &#x3D; &#39;seven@live.com&#39;</span><br><span class="line">                               select * from tb1 where email &#x3D; &#39;seven@live.com&#39; limit 1;</span><br><span class="line">                               虽然上述两个语句都会进行全表扫描，第二句使用了limit，则找到一个后就不再继续扫描。</span><br><span class="line"></span><br><span class="line">        INDEX           全索引扫描，对索引从头到尾找一遍</span><br><span class="line">                        select nid from tb1;</span><br><span class="line"></span><br><span class="line">        RANGE          对索引列进行范围查找</span><br><span class="line">                        select *  from tb1 where name &lt; &#39;alex&#39;;</span><br><span class="line">                        PS:</span><br><span class="line">                            between and</span><br><span class="line">                            in</span><br><span class="line">                            &gt;   &gt;&#x3D;  &lt;   &lt;&#x3D;  操作</span><br><span class="line">                            注意：!&#x3D; 和 &gt; 符号</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        INDEX_MERGE     合并索引，使用多个单列索引搜索</span><br><span class="line">                        select *  from tb1 where name &#x3D; &#39;alex&#39; or nid in (11,22,33);</span><br><span class="line"></span><br><span class="line">        REF             根据索引查找一个或多个值</span><br><span class="line">                        select *  from tb1 where name &#x3D; &#39;seven&#39;;</span><br><span class="line"></span><br><span class="line">        EQ_REF          连接时使用primary key 或 unique类型</span><br><span class="line">                        select tb2.nid,tb1.name from tb2 left join tb1 on tb2.nid &#x3D; tb1.nid;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        CONST           常量</span><br><span class="line">                        表最多有一个匹配行,因为仅有一行,在这行的列值可被优化器剩余部分认为是常数,const表很快,因为它们只读取一次。</span><br><span class="line">                        select nid from tb1 where nid &#x3D; 2 ;</span><br><span class="line"></span><br><span class="line">        SYSTEM          系统</span><br><span class="line">                        表仅有一行(&#x3D;系统表)。这是const联接类型的一个特例。</span><br><span class="line">                        select * from (select nid from tb1 where nid &#x3D; 1) as A;</span><br><span class="line">possible_keys</span><br><span class="line">    可能使用的索引</span><br><span class="line"></span><br><span class="line">key</span><br><span class="line">    真实使用的</span><br><span class="line"></span><br><span class="line">key_len</span><br><span class="line">    MySQL中使用索引字节长度</span><br><span class="line"></span><br><span class="line">rows</span><br><span class="line">    mysql估计为了找到所需的行而要读取的行数 ------ 只是预估值</span><br><span class="line"></span><br><span class="line">extra</span><br><span class="line">    该列包含MySQL解决查询的详细信息</span><br><span class="line">    “Using index”</span><br><span class="line">        此值表示mysql将使用覆盖索引，以避免访问表。不要把覆盖索引和index访问类型弄混了。</span><br><span class="line">    “Using where”</span><br><span class="line">        这意味着mysql服务器将在存储引擎检索行后再进行过滤，许多where条件里涉及索引中的列，当（并且如果）它读取索引时，就能被存储引擎检验，因此不是所有带where子句的查询都会显示“Using where”。有时“Using where”的出现就是一个暗示：查询可受益于不同的索引。</span><br><span class="line">    “Using temporary”</span><br><span class="line">        这意味着mysql在对查询结果排序时会使用一个临时表。</span><br><span class="line">    “Using filesort”</span><br><span class="line">        这意味着mysql会对结果使用一个外部索引排序，而不是按索引次序从表里读取行。mysql有两种文件排序算法，这两种排序方式都可以在内存或者磁盘上完成，explain不会告诉你mysql将使用哪一种文件排序，也不会告诉你排序会在内存里还是磁盘上完成。</span><br><span class="line">    “Range checked for each record(index map: N)”</span><br><span class="line">        这个意味着没有好用的索引，新的索引将在联接的每一行上重新估算，N是显示在possible_keys列中索引的位图，并且是冗余的。</span><br></pre></td></tr></table></figure>
<h6 id="9）慢日志查询"><a href="#9）慢日志查询" class="headerlink" title="9）慢日志查询"></a>9）慢日志查询</h6><p>a、配置MySQL自动记录慢日志</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">slow_query_log &#x3D; OFF                            是否开启慢日志记录</span><br><span class="line">long_query_time &#x3D; 2                              时间限制，超过此时间，则记录</span><br><span class="line">slow_query_log_file &#x3D; &#x2F;usr&#x2F;slow.log        日志文件</span><br><span class="line">log_queries_not_using_indexes &#x3D; OFF     为使用索引的搜索是否记录</span><br></pre></td></tr></table></figure>
<p>注：查看当前配置信息：
　　</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">show variables like &#39;%query%&#39;</span><br></pre></td></tr></table></figure>
<p>修改当前配置：
　　　　</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">set global 变量名 &#x3D; 值</span><br></pre></td></tr></table></figure>
<p>b、查看MySQL慢日志</p>
<pre><code>mysqldumpslow -s at -a  /usr/local/var/mysql/MacBook-Pro-3-slow.log
</code></pre><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">--verbose    版本</span><br><span class="line">--debug      调试</span><br><span class="line">--help       帮助</span><br><span class="line"> </span><br><span class="line">-v           版本</span><br><span class="line">-d           调试模式</span><br><span class="line">-s ORDER     排序方式</span><br><span class="line">             what to sort by (al, at, ar, c, l, r, t), &#39;at&#39; is default</span><br><span class="line">              al: average lock time</span><br><span class="line">              ar: average rows sent</span><br><span class="line">              at: average query time</span><br><span class="line">               c: count</span><br><span class="line">               l: lock time</span><br><span class="line">               r: rows sent</span><br><span class="line">               t: query time</span><br><span class="line">-r           反转顺序，默认文件倒序拍。reverse the sort order (largest last instead of first)</span><br><span class="line">-t NUM       显示前N条just show the top n queries</span><br><span class="line">-a           不要将SQL中数字转换成N，字符串转换成S。don&#39;t abstract all numbers to N and strings to &#39;S&#39;</span><br><span class="line">-n NUM       abstract numbers with at least n digits within names</span><br><span class="line">-g PATTERN   正则匹配；grep: only consider stmts that include this string</span><br><span class="line">-h HOSTNAME  mysql机器名或者IP；hostname of db server for *-slow.log filename (can be wildcard),</span><br><span class="line">             default is &#39;*&#39;, i.e. match all</span><br><span class="line">-i NAME      name of server instance (if using mysql.server startup script)</span><br><span class="line">-l           总时间中不减去锁定时间；don&#39;t subtract lock time from total time</span><br></pre></td></tr></table></figure>

                
                <hr>
                <!-- Pager -->
                <ul class="pager">
                    
                    <li class="previous">
                        <a href="/2018/09/02/other-1-2018-09-02-Python笔记day46-2（MySQL）/" data-toggle="tooltip" data-placement="top" title="Python笔记day46-2（MySQL）|SQLAchemy模块、relationship用法">&larr; Previous Post</a>
                    </li>
                    
                    
                    <li class="next">
                        <a href="/2018/09/01/other-1-2018-09-01-Python笔记day45（MySQL）/" data-toggle="tooltip" data-placement="top" title="Python笔记day45（MySQL）|视图、触发器、存储过程、函数、事务、pymsql模块">Next Post &rarr;</a>
                    </li>
                    
                </ul>

                <!-- tip start -->
                

                
                <div class="comment_notes">
                    <p>
                        study well and make progress every day; study well and progress every day; study hard and make progress every day.
                    </p>
                </div>
                
                <!-- tip end -->

                <!-- Music start-->
                
                <!-- Music end -->

                <!-- Sharing -->
                
                <div class="social-share"  data-wechat-qrcode-helper="" align="center"></div>
                <!--  css & js -->
                <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/social-share.js/1.0.16/css/share.min.css">
                <script src="https://cdnjs.cloudflare.com/ajax/libs/social-share.js/1.0.16/js/social-share.min.js"></script>
                
                <!-- Sharing -->

                <!-- gitment start -->
                
                <!-- gitment end -->

                <!-- 来必力City版安装代码 -->
                
                <!-- City版安装代码已完成 -->

                <!-- disqus comment start -->
                
                <!-- disqus comment end -->
            </div>
            
            <!-- Tabe of Content -->
            <!-- Table of Contents -->

    
      
        <aside id="sidebar">
          <div id="toc" class="toc-article">
          <strong class="toc-title">Contents</strong>
          
            
              <ol class="toc-nav"><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#1，索引"><span class="toc-nav-number">1.</span> <span class="toc-nav-text">1，索引</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-6"><a class="toc-nav-link" href="#1）普通索引"><span class="toc-nav-number">1.0.1.</span> <span class="toc-nav-text">1）普通索引</span></a></li><li class="toc-nav-item toc-nav-level-6"><a class="toc-nav-link" href="#2）唯一索引"><span class="toc-nav-number">1.0.2.</span> <span class="toc-nav-text">2）唯一索引</span></a></li><li class="toc-nav-item toc-nav-level-6"><a class="toc-nav-link" href="#3）主键索引"><span class="toc-nav-number">1.0.3.</span> <span class="toc-nav-text">3）主键索引</span></a></li><li class="toc-nav-item toc-nav-level-6"><a class="toc-nav-link" href="#4）组合索引"><span class="toc-nav-number">1.0.4.</span> <span class="toc-nav-text">4）组合索引</span></a></li></ol></li></ol></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#2，索引补充"><span class="toc-nav-number">2.</span> <span class="toc-nav-text">2，索引补充</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-6"><a class="toc-nav-link" href="#1）索引"><span class="toc-nav-number">2.0.1.</span> <span class="toc-nav-text">1）索引</span></a></li><li class="toc-nav-item toc-nav-level-6"><a class="toc-nav-link" href="#2）索引种类"><span class="toc-nav-number">2.0.2.</span> <span class="toc-nav-text">2）索引种类</span></a></li><li class="toc-nav-item toc-nav-level-6"><a class="toc-nav-link" href="#3）相关命令"><span class="toc-nav-number">2.0.3.</span> <span class="toc-nav-text">3）相关命令</span></a></li><li class="toc-nav-item toc-nav-level-6"><a class="toc-nav-link" href="#4）使用索引和不使用索引"><span class="toc-nav-number">2.0.4.</span> <span class="toc-nav-text">4）使用索引和不使用索引</span></a></li><li class="toc-nav-item toc-nav-level-6"><a class="toc-nav-link" href="#5）正确使用索引"><span class="toc-nav-number">2.0.5.</span> <span class="toc-nav-text">5）正确使用索引</span></a></li><li class="toc-nav-item toc-nav-level-6"><a class="toc-nav-link" href="#6）其他注意事项"><span class="toc-nav-number">2.0.6.</span> <span class="toc-nav-text">6）其他注意事项</span></a></li><li class="toc-nav-item toc-nav-level-6"><a class="toc-nav-link" href="#7）limit分页"><span class="toc-nav-number">2.0.7.</span> <span class="toc-nav-text">7）limit分页</span></a></li><li class="toc-nav-item toc-nav-level-6"><a class="toc-nav-link" href="#8）执行计划"><span class="toc-nav-number">2.0.8.</span> <span class="toc-nav-text">8）执行计划</span></a></li><li class="toc-nav-item toc-nav-level-6"><a class="toc-nav-link" href="#9）慢日志查询"><span class="toc-nav-number">2.0.9.</span> <span class="toc-nav-text">9）慢日志查询</span></a></li></ol></li></ol></li></ol>
            
          
          </div>
        </aside>
      
    

                
            <!-- Sidebar Container -->
            <div class="
                col-lg-8 col-lg-offset-2
                col-md-10 col-md-offset-1
                sidebar-container">

                <!-- Featured Tags -->
                
                <section>
                    <!-- no hr -->
                    <h5><a href="/tags/">FEATURED TAGS</a></h5>
                    <div class="tags">
                       
                          <a class="tag" href="/tags/#Python" title="Python">Python</a>
                        
                          <a class="tag" href="/tags/#MySQL" title="MySQL">MySQL</a>
                        
                          <a class="tag" href="/tags/#编程" title="编程">编程</a>
                        
                    </div>
                </section>
                

                <!-- Friends Blog -->
                
                <hr>
                <h5>FRIENDS</h5>
                <ul class="list-inline">

                    
                        <li><a href="https://blog.csdn.net/fenglepeng" target="_blank">Feng Lepeng&#39;s CSDN</a></li>
                    
                </ul>
                
            </div>
        </div>
    </div>
</article>




<!-- async load function -->
<script>
    function async(u, c) {
      var d = document, t = 'script',
          o = d.createElement(t),
          s = d.getElementsByTagName(t)[0];
      o.src = u;
      if (c) { o.addEventListener('load', function (e) { c(null, e); }, false); }
      s.parentNode.insertBefore(o, s);
    }
</script>
<!-- anchor-js, Doc:http://bryanbraun.github.io/anchorjs/ -->
<script>
    async("https://cdn.bootcss.com/anchor-js/1.1.1/anchor.min.js",function(){
        anchors.options = {
          visible: 'hover',
          placement: 'left',
          icon: 'ℬ'
        };
        anchors.add().remove('.intro-header h1').remove('.subheading').remove('.sidebar-container h5');
    })
</script>


<style  type="text/css">
    /* place left on bigger screen */
    @media all and (min-width: 800px) {
        .anchorjs-link{
            position: absolute;
            left: -0.75em;
            font-size: 1.1em;
            margin-top : -0.1em;
        }
    }
</style>



    <!-- Footer -->
    <!-- Footer -->
<footer>
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <ul class="list-inline text-center">

                

                

                

                

                

                

                

                </ul>
                <p class="copyright text-muted">
                    Copyright &copy;  京ICP备18055501号-2; Feng Lepeng 2021
                    <br>
                    Powered by 
                    <a href="https://github.com/dusign/hexo-theme-snail" target="_blank" rel="noopener">
                        <i>hexo-theme-snail</i>
                    </a> | 
                    <iframe name="star" style="margin-left: 2px; margin-bottom:-5px;" frameborder="0" scrolling="0"
                        width="100px" height="20px"
                        src="https://ghbtns.com/github-btn.html?user=flepeng&repo=hexo-theme-lp&type=star">
                    </iframe>
                </p>
            </div>
        </div>
    </div>

</footer>

<!-- jQuery -->

<script src="/js/jquery.min.js"></script>


<!-- Bootstrap Core JavaScript -->

<script src="/js/bootstrap.min.js"></script>


<!-- Custom Theme JavaScript -->

<script src="/js/hux-blog.min.js"></script>


<!-- Search -->

<script src="/js/search.js"></script>


<!-- async load function -->
<script>
    function async(u, c) {
      var d = document, t = 'script',
          o = d.createElement(t),
          s = d.getElementsByTagName(t)[0];
      o.src = u;
      if (c) { o.addEventListener('load', function (e) { c(null, e); }, false); }
      s.parentNode.insertBefore(o, s);
    }
</script>


<!-- jquery.tagcloud.js -->
<script>
    // only load tagcloud.js in tag.html
    if($('#tag_cloud').length !== 0){
        async("https://flepeng.github.io/js/jquery.tagcloud.js",function(){
            $.fn.tagcloud.defaults = {
                //size: {start: 1, end: 1, unit: 'em'},
                color: {start: '#bbbbee', end: '#0085a1'},
            };
            $('#tag_cloud a').tagcloud();
        })
    }
</script>

<!--fastClick.js -->
<script>
    async("https://cdn.bootcss.com/fastclick/1.0.6/fastclick.min.js", function(){
        var $nav = document.querySelector("nav");
        if($nav) FastClick.attach($nav);
    })
</script>


<!-- Google Analytics -->


<script>
    // dynamic User by Hux
    var _gaId = 'UA-XXXXXXXX-X';
    var _gaDomain = 'yoursite';

    // Originial
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', _gaId, _gaDomain);
    ga('send', 'pageview');
</script>




<!-- Baidu Tongji -->


<!-- Search -->

    <script type="text/javascript">      
        var search_path = "search.xml";
        if (search_path.length == 0) {
            search_path = "search.xml";
        }
    var path = "/" + search_path;
    searchFunc(path, 'local-search-input', 'local-search-result');
    </script>


<!-- busuanzi -->
<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>






	<a id="rocket" href="#top" class=""></a>
	<script type="text/javascript" src="/js/totop.js?v=1.0.0" async=""></script>
    <script type="text/javascript" src="/js/toc.js?v=1.0.0" async=""></script>

    
        <!-- background effects line -->
        

        
            <script type="text/javascript" src="/js/mouse-click.js" content='[&#34;🌱&#34;,&#34;just do it&#34;,&#34;🍀&#34;]' color='[&#34;rgb(121,93,179)&#34; ,&#34;rgb(76,180,231)&#34; ,&#34;rgb(184,90,154)&#34;]'></script>
        

        <!-- background effects end -->
    

    <!--<script size="50" alpha='0.3' zIndex="-999" src="/js/ribbonStatic.js"></script>-->
    
        <script src="/js/ribbonDynamic.js"></script>
    
</body>

</html>
