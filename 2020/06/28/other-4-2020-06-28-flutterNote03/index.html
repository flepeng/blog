<!DOCTYPE html>
<html lang="en">

<!-- Head tag -->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <script data-ad-client="ca-pub-2488174175014870" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script> <!-- google ad -->
    <meta name="google-site-verification" content="40lMg4eqLLbXoDcpN3h-cEnfmselbQ8tUzNvuC0IRIs" /><!-- google 站点认证 -->
    <meta name="baidu-site-verification" content="093lY4ziMu" />
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="description" content="A hexo theme">
    <meta name="keyword"  content="hexo, hexo-theme-lp">
    <link rel="shortcut icon" href="/img/ironman-draw.png">
    <!-- Place this tag in your head or just before your close body tag. -->
    <script async defer src="https://buttons.github.io/buttons.js"></script>
    <!--<link href='http://fonts.googleapis.com/css?family=Montserrat:400,700' rel='stylesheet' type='text/css'>-->
    <title>
        
          Flutter学习笔记 - Hexo-theme-lp
        
    </title>

    <link rel="canonical" href="https://flepeng.github.io/2020/06/28/other-4-2020-06-28-flutterNote03/">

    <!-- Bootstrap Core CSS -->
    
<link rel="stylesheet" href="/css/bootstrap.min.css">


    <!-- Custom CSS --> 
    
        
<link rel="stylesheet" href="/css/dusign-light.css">

        
<link rel="stylesheet" href="/css/dusign-common-light.css">

        
<link rel="stylesheet" href="/css/font-awesome.css">

        
<link rel="stylesheet" href="/css/toc.css">

        <!-- background effects end -->
    
    
    <!-- Pygments Highlight CSS -->
    
<link rel="stylesheet" href="/css/highlight.css">


    
<link rel="stylesheet" href="/css/widget.css">


    
<link rel="stylesheet" href="/css/rocket.css">


    
<link rel="stylesheet" href="/css/signature.css">


    
<link rel="stylesheet" href="/css/fonts.googleapis.css">


    <link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.3.0/css/font-awesome.min.css">

    <!-- photography -->
    
<link rel="stylesheet" href="/css/photography.css">


    <!-- ga & ba script hoook -->
    <script></script>
<meta name="generator" content="Hexo 4.2.1"></head>


<!-- hack iOS CSS :active style -->
<body ontouchstart="">

    <!-- background effects start -->
    
    <!-- background effects end -->

	<!-- Post Header -->
<style type="text/css">
    header.intro-header{
        
            
                background-image: linear-gradient(rgba(0, 0, 0, 0.3), rgba(0, 0, 0, 0.3)), url('/img/post-bg-debug.png')
                /*post*/
            
        
    }
    
    #signature{
        background-image: url('/img/signature/dusign.png');
    }
    
</style>

<header class="intro-header" >
    <!-- Signature -->
    <div id="signature">
        <div class="container">
            <div class="row">
                <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                
                    <div class="post-heading">
                        <div class="tags">
                            
                              <a class="tag" href="/tags/#flutter" title="flutter">flutter</a>
                            
                        </div>
                        <h1>Flutter学习笔记</h1>
                        <h2 class="subheading">第三篇</h2>
                        <span class="meta">
                            Posted by Lepeng on
                            2020-06-28
                        </span>

                        
                            <div class="blank_box"></div>
                            <span class="meta">
                                Words <span class="post-count">5.2k</span> and
                                Reading Time <span class="post-count">21</span> Minutes
                            </span>
                            <div class="blank_box"></div>
                            <!-- 不蒜子统计 start -->
                            <span class="meta">
                                Viewed <span id="busuanzi_value_page_pv"><i class="fa fa-spinner fa-spin"></i></span> Times
                            </span>
                            <!-- 不蒜子统计 end -->
                        

                    </div>
                

                </div>
            </div>
        </div>      
    </div>

    
    <div class="waveWrapper">
        <div class="wave wave_before" style="background-image: url('/img/wave-light.png')"></div>
        <div class="wave wave_after" style="background-image: url('/img/wave-light.png')"></div>
    </div>
    
</header>

	
    <!-- Navigation -->
<nav class="navbar navbar-default navbar-custom navbar-fixed-top">
    <div class="container-fluid">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header page-scroll">
            <button type="button" class="navbar-toggle">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/">Lepeng</a>
        </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <!-- Known Issue, found by Hux:
            <nav>'s height woule be hold on by its content.
            so, when navbar scale out, the <nav> will cover tags.
            also mask any touch event of tags, unfortunately.
        -->
        <div id="huxblog_navbar">
            <div class="navbar-collapse">
                <ul class="nav navbar-nav navbar-right">
                    <li>
                        <a href="/">Home</a>
                    </li>

                    

                        
                    

                        
                    

                        
                        <li>
                            <a href="/about/">About</a>
                        </li>
                        
                    

                        
                        <li>
                            <a href="/categories/">Categories</a>
                        </li>
                        
                    

                        
                        <li>
                            <a href="/archive/">Archives</a>
                        </li>
                        
                    

                        
                        <li>
                            <a href="/tags/">Tags</a>
                        </li>
                        
                    
                    
                    
                    <li>
                        <a href="http://flepeng.com" target="_blank">chinese_blog</a>
                    </li>
                    
                </ul>
            </div>
        </div>
        <!-- /.navbar-collapse -->
    </div>
    <!-- /.container -->
</nav>
<script>
    // Drop Bootstarp low-performance Navbar
    // Use customize navbar with high-quality material design animation
    // in high-perf jank-free CSS3 implementation
    var $body   = document.body;
    var $toggle = document.querySelector('.navbar-toggle');
    var $navbar = document.querySelector('#huxblog_navbar');
    var $collapse = document.querySelector('.navbar-collapse');

    $toggle.addEventListener('click', handleMagic)
    function handleMagic(e){
        if ($navbar.className.indexOf('in') > 0) {
        // CLOSE
            $navbar.className = " ";
            // wait until animation end.
            setTimeout(function(){
                // prevent frequently toggle
                if($navbar.className.indexOf('in') < 0) {
                    $collapse.style.height = "0px"
                }
            },400)
        }else{
        // OPEN
            $collapse.style.height = "auto"
            $navbar.className += " in";
        }
    }
</script>


    <!-- Main Content -->
    <!-- Post Content -->
<article>
    <div class="container">
        <div class="row">

            <!-- Post Container -->
            <div class="
                col-lg-8 col-lg-offset-2
                col-md-10 col-md-offset-1
                post-container">

                <h2 id="Flutter-SDK内置组件库介绍"><a href="#Flutter-SDK内置组件库介绍" class="headerlink" title="Flutter SDK内置组件库介绍"></a>Flutter SDK内置组件库介绍</h2><ul>
<li><p>Flutter提供了一套丰富、强大的基础组件，在基础组件库之上FLutter又提供了一套Material风格（Android）和一套Cupertino（IOS）的组件库。</p>
</li>
<li><p>使用基础组件库</p>
</li>
</ul>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">'package:flutter/widgets.dart'</span>;</span><br></pre></td></tr></table></figure>
<ul>
<li><p>基础组件</p>
<ul>
<li>Text： 该组件可用于创建一个带格式得文本。   </li>
<li>Row、Column：这些具有弹性空间的布局类Widget可让您在水平（Row）和垂直（Column）方向上创建灵活的布局。其设计是基于Web开发中的Flexbox布局模型。</li>
<li>Stack：取代线性布局，Stack允许自widget堆叠，可以使用Positioned来定位他们相对于Stack的上下左右四条边的位置。Stacks是基于Web开发中的绝对定位布局模型设计的。</li>
<li>Container：创建矩形视觉元素。container 可以装饰一个BoxDecoration, 如 background、一个边框、或者一个阴影。 Container 也可以具有边距（margins）、填充(padding)和应用于其大小的约束(constraints)。另外， Container可以使用矩阵在三维空间中对其进行变换。</li>
</ul>
</li>
<li><p>Material组件</p>
<ul>
<li>引入组件</li>
</ul>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">'package:flutter/material.dart'</span><span class="string">';</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>Cupertino组件</p>
<ul>
<li>Flutter也提供了一套丰富的Cupertino风格的组件，尽管目前还没有Material 组件那么丰富，但是它仍在不断的完善中。</li>
<li>值得一提的是在Material 组件库中有一些组件可以根据实际运行平台来切换表现风格，比如MaterialPageRoute，在路由切换时，如果是Android系统，它将会使用Android系统默认的页面切换动画(从底向上)；如果是iOS系统，它会使用iOS系统默认的页面切换动画（从右向左）。由于在前面的示例中还没有Cupertino组件的示例，下面我们实现一个简单的Cupertino组件风格的页面：</li>
</ul>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 导入cupertino widget库</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">'package；flutter/cupertino.dart'</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">CupertinoTestRoute</span> <span class="keyword">extends</span> <span class="title">StatelessWidget</span> </span>&#123;</span><br><span class="line">    <span class="meta">@override</span></span><br><span class="line">    Widget build(BuildContext context) &#123;</span><br><span class="line">        <span class="keyword">return</span> CupertinoPageScaffold(</span><br><span class="line">            navigatioBar: CupertinoNavigationBar(</span><br><span class="line">                middle: Text(<span class="string">"cupertino Demo"</span>),</span><br><span class="line">            ),</span><br><span class="line">            child: Center(</span><br><span class="line">                child: cupertinoButton(</span><br><span class="line">                    color: CupertinoColors.activeBlue,</span><br><span class="line">                    child: Text(<span class="string">"Press"</span>),</span><br><span class="line">                    onPressed: () &#123;&#125;</span><br><span class="line">                ),</span><br><span class="line">            ),</span><br><span class="line">        );</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="状态管理"><a href="#状态管理" class="headerlink" title="状态管理"></a>状态管理</h2><blockquote>
<p>响应式的编程框架中都一个永恒的主题 ———— 状态(State)管理，无论是在React/Vue（两者都是支持响应式编程的Web开发框架）还是Flutter中，他们讨论的问题和解决的思想都是一致的。</p>
</blockquote>
<ul>
<li>Widget管理自己的状态</li>
<li>Widget管理子Widget状态</li>
<li><p>混合管理（父Widget和Widget都管理状态）</p>
</li>
<li><p>如何决定使用哪种管理方式？</p>
<ul>
<li>若状态是用户数据，如复选框的选中状态、滑块的位置，则该状态最好由父Widge管理。</li>
<li>若状态是有关界面外观效果的，例如颜色、动画，最好由Widget本身来管理</li>
<li>若某一个状态是不同Widget共享的，则最好在父Widget中管理（灵活更重要）</li>
</ul>
</li>
</ul>
<h3 id="Widget管理自身状态"><a href="#Widget管理自身状态" class="headerlink" title="Widget管理自身状态"></a>Widget管理自身状态</h3><ul>
<li>_TapboxAState类：<ul>
<li>管理TabBoxA的状态</li>
<li>定义_active：确定盒子的当前颜色的布尔值。</li>
<li>定义_handleTap()函数，该函数在点击该盒子时更新_active，并调用setState()更新UI</li>
<li>实现widget的多有交互行为</li>
</ul>
</li>
</ul>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// TapboxA 管理自身状态</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//-------------------------TapboxA--------------</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">TapboxA</span> <span class="keyword">extends</span> <span class="title">StatefulWidget</span> </span>&#123;</span><br><span class="line">  TapboxA(&#123;key key&#125;) : <span class="keyword">super</span>(key： key);</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  _TapboxAState createState() =&gt; <span class="keyword">new</span> _TapboxAState();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">_TapboxAState</span> <span class="keyword">extends</span> <span class="title">State</span>&lt;<span class="title">TapboxA</span>&gt; </span>&#123;</span><br><span class="line">  <span class="built_in">bool</span> _active = <span class="keyword">false</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">void</span> _handleTap() &#123;</span><br><span class="line">    setState(() &#123;</span><br><span class="line">      _active = !_active;</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> GestureDetector(</span><br><span class="line">      onTap: _handleTap,</span><br><span class="line">      child: <span class="keyword">new</span> Container(</span><br><span class="line">        child: <span class="keyword">new</span> Center(</span><br><span class="line">          child: <span class="keyword">new</span> Text(</span><br><span class="line">            _active ? <span class="string">'Active'</span> : <span class="string">'Inactive'</span>,</span><br><span class="line">            style: <span class="keyword">new</span> TextStyle(fontSize: <span class="number">32.0</span>, color: Colors.<span class="keyword">while</span>)</span><br><span class="line">          ),</span><br><span class="line">        ),</span><br><span class="line">        width: <span class="number">200.0</span>,</span><br><span class="line">        height: <span class="number">200.0</span>,</span><br><span class="line">        decoration: <span class="keyword">new</span> BoxDecoration(</span><br><span class="line">          color: _active ? Colors.lightGreen[<span class="number">700</span>] : Colors.grey[<span class="number">600</span>],</span><br><span class="line">        ),</span><br><span class="line">      ),</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="父Widget管理子Widget的状态"><a href="#父Widget管理子Widget的状态" class="headerlink" title="父Widget管理子Widget的状态"></a>父Widget管理子Widget的状态</h3><ul>
<li>对于父Widget来说，管理状态并告诉其子Widget何时更新通常较好</li>
<li><p>在以下示例中，TapboxB通过回调将其状态导出到其父组件，状态由父组件管理，因此它的父组件为StatefulWidget。但是由于TapboxB不管理任何状态，所以TapboxB为StatelessWidget</p>
</li>
<li><p>ParentWidgetState类：</p>
<ul>
<li>为TapboxB管理_active状态</li>
<li>实现_handleTapboxChanged()，当盒子被点击时调用的方法</li>
<li>当状态改变时，调用setState()更新UI</li>
</ul>
</li>
<li><p>TapboxB类：</p>
<ul>
<li>继承StatelessWidget类，因为所有的状态都由其父组件处理</li>
<li>当检测到点击时，会通知父组件</li>
</ul>
</li>
</ul>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ParentWidget为TapboxB管理状态</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ----------------------ParentWidget-------------</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ParentWidget</span> <span class="keyword">extends</span> <span class="title">StatefulWidget</span> </span>&#123;</span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  _ParentWidgetState createState() =&gt; <span class="keyword">new</span> _ParentWidgetState();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">_ParentWidgetState</span> <span class="keyword">extends</span> <span class="title">State</span>&lt;<span class="title">ParentWidget</span>&gt; </span>&#123;</span><br><span class="line">  <span class="built_in">bool</span> _active = <span class="keyword">false</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">void</span> _handleTapboxChanged(<span class="built_in">bool</span> newValue) &#123;</span><br><span class="line">    setState(() &#123;</span><br><span class="line">      _active = newValue;</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> Container(</span><br><span class="line">      child: <span class="keyword">new</span> TapboxB(</span><br><span class="line">        active: _active,</span><br><span class="line">        onchange: _handleTapboxChanged,</span><br><span class="line">      ),</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ----------------------------TapboxB----------------</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">TapboxB</span> <span class="keyword">extends</span> <span class="title">StatelessWidget</span> </span>&#123;</span><br><span class="line">  TapboxB(&#123;Key key, <span class="keyword">this</span>.active: <span class="keyword">false</span>, <span class="meta">@required</span> <span class="keyword">this</span>.onchanged&#125;): <span class="keyword">super</span>(key: key);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">final</span> <span class="built_in">bool</span> active;</span><br><span class="line">  <span class="keyword">final</span> ValueCHanged&lt;<span class="built_in">bool</span>&gt; onChanged;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">void</span> _handleTap() &#123;</span><br><span class="line">    onchanged(!active);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> GestureDetector(</span><br><span class="line">      onTap: _handleTap,</span><br><span class="line">      child: <span class="keyword">new</span> Container(</span><br><span class="line">        child: <span class="keyword">new</span> Center(</span><br><span class="line">          child: <span class="keyword">new</span> Text(</span><br><span class="line">            active ? <span class="string">'Active'</span> : <span class="string">'Inactive'</span>,</span><br><span class="line">            style: <span class="keyword">new</span> TextStyle(fontSize: <span class="number">32.0</span>, color: Colors.white)</span><br><span class="line">          ),</span><br><span class="line">        ),</span><br><span class="line">        width: <span class="number">200.0</span>,</span><br><span class="line">        height: <span class="number">200.0</span>,</span><br><span class="line">        decoration: <span class="keyword">new</span> BoxDecoration(</span><br><span class="line">          color: active ? Colors.lightGreen[<span class="number">700</span>] : Colors.grey[<span class="number">600</span>],</span><br><span class="line">        ),</span><br><span class="line">      ),</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="混合状态管理"><a href="#混合状态管理" class="headerlink" title="混合状态管理"></a>混合状态管理</h3><ul>
<li><p>对于一些组件来说，混合管理的方式会非常有用。在这种情况下，组件自身管理一些内部状态，而父组件管理一些其他外部状态。</p>
</li>
<li><p>在下面TapboxC示例中，手指按下时，盒子的周围会出现一个深绿色的边框，抬起时，边框消失。点击完成后，盒子的颜色改变。 TapboxC将其_active状态导出到其父组件中，但在内部管理其_highlight状态。这个例子有两个状态对象_ParentWidgetCState和_TapboxCState。</p>
</li>
<li><p>ParentWidgetCState类：</p>
<ul>
<li>管理_active状态</li>
<li>实现_handleTapboxChanged(), 当盒子被点击时调用</li>
<li>当点击盒子并且_active状态改变时调用setState()更新UI</li>
</ul>
</li>
<li><p>_TapboxCState对象：</p>
<ul>
<li>管理_highlight状态</li>
<li>GestureDetector监听所有tap事件。当用户点下时，它添加高亮（深绿色边框）；当用户释放时，会移除高亮。</li>
<li>当按下、抬起或者取消点击时更新_highlight状态，调用setState()更新UI</li>
<li>当点击时，将状态的改变传递给父组件</li>
</ul>
</li>
</ul>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// -------------------------ParentWidget------------</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ParentWidgetC</span> <span class="keyword">extends</span> <span class="title">StatefulWidget</span> </span>&#123;</span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  _ParentWidgetCState createState() =&gt; <span class="keyword">new</span> _ParentWidgetCState();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">_ParentWidgetCState</span> <span class="keyword">extends</span> <span class="title">State</span>&lt;<span class="title">ParentWidgetC</span>&gt; </span>&#123;</span><br><span class="line">  <span class="built_in">bool</span> _active = <span class="keyword">false</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">void</span> _handleTapboxChanged(<span class="built_in">bool</span> newValue) &#123;</span><br><span class="line">    setState(() &#123;</span><br><span class="line">      _active = newValue;</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> Container(</span><br><span class="line">      child: <span class="keyword">new</span> TapboxC(</span><br><span class="line">        active: _active,</span><br><span class="line">        onChanged: _handleTapboxChanged,</span><br><span class="line">      ),</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//-----------------TapboxC</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">TapboxC</span> <span class="keyword">extends</span> <span class="title">StatefulWidget</span> </span>&#123;</span><br><span class="line">  TapboxC(&#123;Key key, <span class="keyword">this</span>.active: <span class="keyword">false</span>, <span class="meta">@required</span> <span class="keyword">this</span>.onChanged&#125;)</span><br><span class="line">    : <span class="keyword">super</span>(key: key);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">final</span> <span class="built_in">bool</span> active;</span><br><span class="line">  <span class="keyword">final</span> ValueChanged&lt;<span class="built_in">bool</span>&gt;onChanged;</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  _TapboxCState createState() =&gt; <span class="keyword">new</span> _TapboxCState();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">_TapboxCState</span> <span class="keyword">extends</span> <span class="title">State</span>&lt;<span class="title">TapboxC</span>&gt; </span>&#123;</span><br><span class="line">  <span class="built_in">bool</span> _hightlight = <span class="keyword">false</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">void</span> _handleTapDown(TapDownDetails details) &#123;</span><br><span class="line">    setState(() &#123;</span><br><span class="line">      _highlight = <span class="keyword">true</span>;</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">void</span> _handleTapUp(TapUpDetails details) &#123;</span><br><span class="line">    setState(() &#123;</span><br><span class="line">      _highlight = <span class="keyword">false</span>;</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">void</span> _handleTapCancel() &#123;</span><br><span class="line">    setState(() &#123;</span><br><span class="line">      _highlight = <span class="keyword">false</span>;</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">void</span> _handleTap() &#123;</span><br><span class="line">    widget.onChanged(!widget.active);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="meta">@overide</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="comment">// 在按下时添加绿色边框，当抬起时取消高亮</span></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> GestureDetector(</span><br><span class="line">      onTapDown: _handleTapDown, <span class="comment">// 处理按下事件</span></span><br><span class="line">      onTapon: _handleTapUp, <span class="comment">// 处理抬起事件</span></span><br><span class="line">      onTap: _handleTap,</span><br><span class="line">      onTapCancel: _handleTapCancel,</span><br><span class="line">      child: <span class="keyword">new</span> Container(</span><br><span class="line">        child: <span class="keyword">new</span> Center(</span><br><span class="line">          child: <span class="keyword">new</span> Text(</span><br><span class="line">            widget.active ? <span class="string">'Active'</span> : <span class="string">'Inactive'</span>,</span><br><span class="line">            style: <span class="keyword">new</span> TextStyle(fontSize: <span class="number">32.0</span>, color: Colors.white)</span><br><span class="line">          ),</span><br><span class="line">          width: <span class="number">200.0</span>,</span><br><span class="line">          height: <span class="number">200.0</span>,</span><br><span class="line">          decoration: <span class="keyword">new</span> BoxDecoration(</span><br><span class="line">            color: widget.active ? Colors.lightGreen[<span class="number">700</span>] : Colors.grey[<span class="number">600</span>],</span><br><span class="line">            border: _highlight ? <span class="keyword">new</span> Border.all(</span><br><span class="line">              color: Colors.teal[<span class="number">700</span>],</span><br><span class="line">              width: <span class="number">10.0</span>,</span><br><span class="line">            )</span><br><span class="line">            : <span class="keyword">null</span>,</span><br><span class="line">          ),</span><br><span class="line">        ),</span><br><span class="line">      );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="全局状态管理"><a href="#全局状态管理" class="headerlink" title="全局状态管理"></a>全局状态管理</h3><ul>
<li><p>当应用中需要一些跨组件（包括跨路由）的状态需要同步时，上面介绍的方法便很难胜任了。比如，我们有一个设置页，里面可以设置应用的语言，我们为了让设置实时生效，我们期望在语言状态发生改变时，APP中依赖应用语言的组件能够重新build一下，但这些依赖应用语言的组件和设置页并不在一起，所以这种情况用上面的方法很难管理。这时，正确的做法是通过一个全局状态管理器来处理这种相距较远的组件之间的通信。目前主要有两种办法：</p>
<ul>
<li>实现一个全局的事件总线，将语言状态改变对应为一个事件，然后在APP中依赖应用语言的组件的initState 方法中订阅语言改变的事件。当用户在设置页切换语言后，我们发布语言改变事件，而订阅了此事件的组件就会收到通知，收到通知后调用setState(…)方法重新build一下自身即可。</li>
<li>使用一些专门用于状态管理的包，如Provider、Redux</li>
</ul>
</li>
</ul>
<h2 id="文本及样式"><a href="#文本及样式" class="headerlink" title="文本及样式"></a>文本及样式</h2><h3 id="Text"><a href="#Text" class="headerlink" title="Text"></a>Text</h3><ul>
<li>Text用于显示简单样式文本，包含一些控制文本显示样式的一些属性</li>
</ul>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Text(<span class="string">"Hello world"</span>, textAlign: TextAlign.left,);</span><br><span class="line"></span><br><span class="line">Text(<span class="string">"Hello world! I'm Jack."</span>*<span class="number">4</span>, maxLines:<span class="number">1</span>, overflow: textOverflow.ellipsis,);</span><br><span class="line"></span><br><span class="line">Text(<span class="string">"Hello world"</span>,</span><br><span class="line">  textScaleFactor: <span class="number">1.5</span>,</span><br><span class="line">);</span><br></pre></td></tr></table></figure>
<ul>
<li><p>textAlign：文本对齐方式，只有Text宽度大于文本内容长度时指定此属性才有意义。</p>
</li>
<li><p>maxLines、overflow：指定文本显示的最大行数，默认情况下，文本是自动折行的，如果指定此参数，则文本最多不会超过指定的行。如果有多余的文本，可以通过overflow来指定截断方式，默认是直接截断，本例中指定的截断方式TextOverflow.ellipsis，它会将多余文本截断后以省略符“…”表示；</p>
</li>
<li><p>textScaleFactor：代表文本相对于当前字体大小的缩放因子，相对于去设置文本的样式style属性的fontSize</p>
</li>
</ul>
<h3 id="TextStyle"><a href="#TextStyle" class="headerlink" title="TextStyle"></a>TextStyle</h3><ul>
<li>用于指定文本显示的样式如颜色、字体背景等</li>
</ul>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">Text(<span class="string">"Hello world"</span>,</span><br><span class="line">  style: TextStyle(</span><br><span class="line">    color: Colors.blue,</span><br><span class="line">    fontSize: <span class="number">18.0</span>,</span><br><span class="line">    height: <span class="number">1.2</span>, <span class="comment">// 行高，但它并不是一个绝对值，而是一个因子，具体的行高等于fontSize*height</span></span><br><span class="line">    fontFamily: <span class="string">"Courier"</span>,</span><br><span class="line">    background: <span class="keyword">new</span> Paint()..color=Colors.yellow,</span><br><span class="line">    decoration: TextDecoration.underline,</span><br><span class="line">    decorationStyle: TextDecorationStyle.dashed</span><br><span class="line">  ),</span><br><span class="line">);</span><br></pre></td></tr></table></figure>
<ul>
<li>fontSize： 该属性和Text的textScaleFactor都用于控制字体大小。但是有两个主要区别：<ul>
<li>fontSize可以精确指定字体大小，而textScaleFactor只能通过缩放比例来控制</li>
<li>textScaleFactor主要是用于系统字体大小设置改变时对Flutter应用字体进行全局调整，而fontSize通常用于单个文本，字体大小不会跟随系统字体大小变化。</li>
</ul>
</li>
</ul>
<h3 id="TextSpan"><a href="#TextSpan" class="headerlink" title="TextSpan"></a>TextSpan</h3><ul>
<li>代表文本的一个片段</li>
<li>定义：</li>
</ul>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> TextSpan(&#123;</span><br><span class="line">  TextStyle style,</span><br><span class="line">  Sting text,</span><br><span class="line">  <span class="built_in">List</span>&lt;TextSpan&gt; children,</span><br><span class="line">  GestureRecognizer recognizer,</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<ul>
<li>style： 样式</li>
<li>text： 内容</li>
<li>children：是一个TextSpan的数组，也就是说TextSpan可以包括其他TextSpan</li>
<li>recognizer用于对该文本片段用于手势识别处理</li>
</ul>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">Text.rich(TextSpan(</span><br><span class="line">  children: [</span><br><span class="line">    TextSpan(</span><br><span class="line">      text: <span class="string">"Home:"</span></span><br><span class="line">    ),</span><br><span class="line">    TextSpan(</span><br><span class="line">      text: <span class="string">"https://flutter.dev"</span>,</span><br><span class="line">      style: TextStyle(</span><br><span class="line">        color: Colors.blue</span><br><span class="line">      ),</span><br><span class="line">      recognizer: _tapRecognizer</span><br><span class="line">    ),</span><br><span class="line">  ]</span><br><span class="line">))</span><br></pre></td></tr></table></figure>
<ul>
<li><p>上面代码中，我们通过TextSpan实现了一个基础文本片段和一个链接片段，然后通过Text.rich 方法将TextSpan 添加到Text中，之所以可以这样做，是因为Text其实就是RichText的一个包装，而RichText是可以显示多种样式(富文本)的widget。</p>
</li>
<li><p>_tapRecognizer: 是点击链接之后的一个处理器</p>
</li>
</ul>
<h3 id="DefaultTextStyle"><a href="#DefaultTextStyle" class="headerlink" title="DefaultTextStyle"></a>DefaultTextStyle</h3><ul>
<li><p>在Widget树中，文本的样式默认是可以被继承的（子类文本类组件指定具体样式时可以使用Widget树中父级设置的默认样式）</p>
</li>
<li><p>因此，如果在Widget树的某一个节点处设置一个默认的文本样式，那么该节点的子树中所有文本都会默认使用这个样式，而DefaultTextStyle正是用于设置默认文本样式的。</p>
</li>
</ul>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">DefaultTextStyle(</span><br><span class="line">  <span class="comment">// 1.设置文本默认样式</span></span><br><span class="line">  style: TextStyle(</span><br><span class="line">    color: Colors.red,</span><br><span class="line">    fontSize: <span class="number">20.0</span>,</span><br><span class="line">  ),</span><br><span class="line">  textAlign: TextAlign.start,</span><br><span class="line">  child: Column(</span><br><span class="line">    crossAxisAlignment: CrossAxisAlignment.start,</span><br><span class="line">    children: &lt;Widget&gt;[</span><br><span class="line">      Text(<span class="string">"hello world"</span>),</span><br><span class="line">      Text(<span class="string">"I am Jack"</span>),</span><br><span class="line">      Text(<span class="string">"I am Jack"</span>,</span><br><span class="line">        style: TextStyle(</span><br><span class="line">          inherit: <span class="keyword">false</span>, <span class="comment">// 2.不继承默认样式</span></span><br><span class="line">          color: Colors.grey</span><br><span class="line">        ),</span><br><span class="line">      ),</span><br><span class="line">    ],</span><br><span class="line">  ),</span><br><span class="line">);</span><br></pre></td></tr></table></figure>
<h3 id="字体"><a href="#字体" class="headerlink" title="字体"></a>字体</h3><ul>
<li><p>Flutter APP可以使用不同的字体，包括第三方的字体</p>
</li>
<li><p>使用字体步骤：</p>
<ul>
<li>首先，在<code>pubspec.yaml</code>中声明，以确保它们会打包到应用程序中</li>
<li>然后，通过<code>TextStyle</code>属性使用字体</li>
</ul>
</li>
</ul>
<h4 id="在asset中声明"><a href="#在asset中声明" class="headerlink" title="在asset中声明"></a>在asset中声明</h4><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">flutter:</span><br><span class="line">  fonts:</span><br><span class="line">    - family: Raleway</span><br><span class="line">      fonts:</span><br><span class="line">        - asset: assets/fonts/Raleway-Regular.ttf</span><br><span class="line">        - asset: assets/fonts/Raleway-Medium.ttf</span><br><span class="line">          weight: <span class="number">500</span></span><br><span class="line">        - asset: assets/fonts/Raleway-SemiBold.ttf</span><br><span class="line">          weight: <span class="number">600</span></span><br><span class="line">    - family: AbrilFatface</span><br><span class="line">      fonts:</span><br><span class="line">        - asset: assets/fonts/abrilfatface/AbrilFatface-Regular.ttf</span><br></pre></td></tr></table></figure>
<h4 id="使用字体"><a href="#使用字体" class="headerlink" title="使用字体"></a>使用字体</h4><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 声明文本样式</span></span><br><span class="line"><span class="keyword">const</span> textStyle = <span class="keyword">const</span> TextStyle(</span><br><span class="line">  fontFamily: <span class="string">'Raleway'</span>,</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 使用文本样式</span></span><br><span class="line"><span class="keyword">var</span> buttonText = <span class="keyword">const</span> Text(</span><br><span class="line">  <span class="string">"Use the font for this text"</span>,</span><br><span class="line">  style: textStyle,</span><br><span class="line">);</span><br></pre></td></tr></table></figure>
<h4 id="Package中的字体"><a href="#Package中的字体" class="headerlink" title="Package中的字体"></a>Package中的字体</h4><ul>
<li>要使用Package中定义的字体，必须提供package参数</li>
</ul>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> textStyle = <span class="keyword">const</span> TextStyle(</span><br><span class="line">  fontFamily: <span class="string">'Raleway'</span>,</span><br><span class="line">  package: <span class="string">'my_package'</span>, <span class="comment">//指定包名</span></span><br><span class="line">);</span><br></pre></td></tr></table></figure>
<ul>
<li>一个包也可以只提供字体文件而不需要在pubspec.yaml中声明。 这些文件应该存放在包的lib/文件夹中。字体文件不会自动绑定到应用程序中，应用程序可以在声明字体时有选择地使用这些字体。假设一个名为my_package的包中有一个字体文件</li>
</ul>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">lib/fonts/Raleway-Medium.ttf</span><br></pre></td></tr></table></figure>
<ul>
<li>然后，应用程序可以声明一个字体，如下面的示例所示</li>
</ul>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"> flutter:</span><br><span class="line">   fonts:</span><br><span class="line">     - family: Raleway</span><br><span class="line">       fonts:</span><br><span class="line">         - asset: assets/fonts/Raleway-Regular.ttf</span><br><span class="line">         - asset: packages/my_package/fonts/Raleway-Medium.ttf</span><br><span class="line">           weight: <span class="number">500</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// lib/是隐含的，所以它不应该包含在asset路径中</span></span><br></pre></td></tr></table></figure>
<ul>
<li>在这种情况下，由于应用程序本地定义了字体，所以在创建TextStyle时可以不指定package参数</li>
</ul>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> textStyle = <span class="keyword">const</span> TextStyle(</span><br><span class="line">  fontFamily: <span class="string">'Raleway'</span>,</span><br><span class="line">);</span><br></pre></td></tr></table></figure>
<h2 id="按钮"><a href="#按钮" class="headerlink" title="按钮"></a>按钮</h2><ul>
<li><p>Material组件库中提供了多种按钮组件如RaisedButton、FlatButton、OutlineButton等，都是直接或间接对RawMaterialButton组件的包装定制，故其属性都和RawMaterialButton一样。</p>
</li>
<li><p>所有Material 库中的按钮都有如下相同点：</p>
<ul>
<li>按下时都会有”水波动画”</li>
<li>有一个onPressed属性来设置点击回调，当按钮按下会执行该回调，若不提供该回调则按钮会处于禁用状态，禁用状态不响应用户点击</li>
</ul>
</li>
</ul>
<h3 id="RaisedButton"><a href="#RaisedButton" class="headerlink" title="RaisedButton"></a>RaisedButton</h3><ul>
<li>RaisedButton 即”漂浮”按钮，它默认带有阴影和灰色背景。按下后，阴影会变大</li>
</ul>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">RaisedButton(</span><br><span class="line">  child: Text(<span class="string">"normal"</span>),</span><br><span class="line">  onPressed: () &#123;&#125;,</span><br><span class="line">);</span><br></pre></td></tr></table></figure>
<h3 id="FlatButton"><a href="#FlatButton" class="headerlink" title="FlatButton"></a>FlatButton</h3><ul>
<li>FlatButton即扁平按钮，默认背景透明并不带阴影。按下后，会有背景色</li>
</ul>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">FlatButton(</span><br><span class="line">  child: Text(<span class="string">"normal"</span>),</span><br><span class="line">  onPressed: () &#123;&#125;,</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<h3 id="OutlineButton"><a href="#OutlineButton" class="headerlink" title="OutlineButton"></a>OutlineButton</h3><ul>
<li>OutlineButton默认有一个边框，不带阴影且背景通明。按下后，边框样式会变亮、同时出现背景和阴影（较弱）</li>
</ul>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">OutlineButton(</span><br><span class="line">  child: Text(<span class="string">"normal"</span>);</span><br><span class="line">  onPressed: () &#123;&#125;,</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<h3 id="IconButton"><a href="#IconButton" class="headerlink" title="IconButton"></a>IconButton</h3><ul>
<li>IconButton是一个可点击的Icon，不包括文字，默认没有背景，点击后会出现背景</li>
</ul>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">IconButton(</span><br><span class="line">  icon: Icon(Icons.thumb_up),</span><br><span class="line">  onPressed: () &#123;&#125;,</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<h3 id="带图标的按钮"><a href="#带图标的按钮" class="headerlink" title="带图标的按钮"></a>带图标的按钮</h3><ul>
<li>RaiseButton、FlatButton、OutlineButton都有一个icon构造函数，通过之可以轻松创建带图标的按钮</li>
</ul>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">RaiseButton.icon(</span><br><span class="line">  icon: Icon(Icons.send),</span><br><span class="line">  label: Text(<span class="string">""</span>发送),</span><br><span class="line">  onPressed: _onPressed,</span><br><span class="line">),</span><br><span class="line">OutlineButton.icon(</span><br><span class="line">  icon: Icon(Icons.add),</span><br><span class="line">  label: Text(<span class="string">"添加"</span>),</span><br><span class="line">  onPressed: _onPressed,</span><br><span class="line">),</span><br><span class="line">FlatButton.icon(</span><br><span class="line">  icon: Icon(Icons.info),</span><br><span class="line">  label: Text(<span class="string">"详情"</span>),</span><br><span class="line">  onPressed: _onPressed,</span><br><span class="line">),</span><br></pre></td></tr></table></figure>
<h3 id="自定义按钮外观"><a href="#自定义按钮外观" class="headerlink" title="自定义按钮外观"></a>自定义按钮外观</h3><ul>
<li>可以通过其属性来定义，不同按钮属性大同小异。</li>
</ul>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> FlatButton(&#123;</span><br><span class="line">  ...</span><br><span class="line">  <span class="meta">@required</span> <span class="keyword">this</span>.onPressed, <span class="comment">// 按钮点击回调</span></span><br><span class="line">  <span class="keyword">this</span>.textColor, <span class="comment">// 按钮文字颜色</span></span><br><span class="line">  <span class="keyword">this</span>.disabledTextColor, <span class="comment">// 按钮禁用时的文字颜色</span></span><br><span class="line">  <span class="keyword">this</span>.color, <span class="comment">// 按钮背景颜色</span></span><br><span class="line">  <span class="keyword">this</span>.disabledColor, <span class="comment">// 按钮禁用时的背景颜色</span></span><br><span class="line">  <span class="keyword">this</span>.hightlightColor, <span class="comment">// 按钮按下时的背景颜色</span></span><br><span class="line">  <span class="keyword">this</span>.splashColor, <span class="comment">// 点击时，水波动画中水波的颜色</span></span><br><span class="line">  <span class="keyword">this</span>.colorBrightness, <span class="comment">// 按钮主题，默认浅色</span></span><br><span class="line">  <span class="keyword">this</span>.padding, <span class="comment">// 按钮的填充</span></span><br><span class="line">  <span class="keyword">this</span>.shape, <span class="comment">//外形</span></span><br><span class="line">  <span class="meta">@required</span> <span class="keyword">this</span>.child, <span class="comment">//按钮的内容</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<ul>
<li>定义一个背景蓝色，两边圆角的按钮</li>
</ul>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">FlatButton(</span><br><span class="line">  color: Colors.blue,</span><br><span class="line">  hightlightColor: Colors.blue[<span class="number">700</span>],</span><br><span class="line">  colorBrightness: Brightness.dark,</span><br><span class="line">  splashColor: COlors.gery,</span><br><span class="line">  child: Text(<span class="string">"Submit"</span>),</span><br><span class="line">  shape: RoundedRectangleBorder(borderRadius: BorderRadius.circular(<span class="number">20.0</span>)),</span><br><span class="line">  onPressed: () &#123;&#125;,</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<h2 id="图片及ICON"><a href="#图片及ICON" class="headerlink" title="图片及ICON"></a>图片及ICON</h2><h3 id="图片"><a href="#图片" class="headerlink" title="图片"></a>图片</h3><ul>
<li>Flutter中，可以通过Image组件来加载并显示图片</li>
<li>Image的数据源可以是asset、文件、内存及忘了。</li>
</ul>
<h3 id="ImageProvide"><a href="#ImageProvide" class="headerlink" title="ImageProvide"></a>ImageProvide</h3><ul>
<li>是一个抽象类，主要定义了图片数据获取的接口load()，从不同的数据源获取图片需要实现不同的ImageProvider ，如AssetImage是实现了从Asset中加载图片的ImageProvider，而NetworkImage实现了从网络加载图片的ImageProvider。</li>
</ul>
<h3 id="Image"><a href="#Image" class="headerlink" title="Image"></a>Image</h3><ul>
<li>Image Widget有一个必选的image参数，它对应一个ImageProvider.</li>
</ul>
<h3 id="从asset中加载图片"><a href="#从asset中加载图片" class="headerlink" title="从asset中加载图片"></a>从asset中加载图片</h3><ul>
<li><ol>
<li>在工程根目录下创建一个images目录,并将图片avatar.png拷贝到该目录.</li>
</ol>
</li>
<li><ol>
<li>在pubspec.yaml中的flutter部分添加如下命令：</li>
</ol>
</li>
</ul>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">assets:</span><br><span class="line">  - images/avatar.png</span><br></pre></td></tr></table></figure>
<blockquote>
<p>注意: 由于 yaml 文件对缩进严格，所以必须严格按照每一层两个空格的方式进行缩进，此处assets前面应有两个空格。</p>
</blockquote>
<ul>
<li>加载该图片</li>
</ul>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Image(</span><br><span class="line">  image: AssetImage(<span class="string">"image/avatar.png"</span>),</span><br><span class="line">  width: <span class="number">100.0</span></span><br><span class="line">);</span><br></pre></td></tr></table></figure>
<ul>
<li>Image也提供了一个快捷的构造函数Image.asset用于从asset中加载、显示图片：</li>
</ul>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Image.asset(<span class="string">"images/avatar.png"</span>,</span><br><span class="line">  width: <span class="number">100.0</span>,</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<h3 id="从网络加载图片"><a href="#从网络加载图片" class="headerlink" title="从网络加载图片"></a>从网络加载图片</h3><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Image(</span><br><span class="line">  image: NetworkImage(</span><br><span class="line">    <span class="string">"https://avatars2.githubusercontent.com/u/20411648?s=460&amp;v=4"</span></span><br><span class="line">  ),</span><br><span class="line">  width: <span class="number">100.0</span>,</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<ul>
<li>Image也提供了一个快捷的构造函数Image.network用于从网络加载、显示图片</li>
</ul>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Image.network(</span><br><span class="line">  <span class="string">"https://avatars2.githubusercontent.com/u/20411648?s=460&amp;v=4"</span>,</span><br><span class="line">  width: <span class="number">100.0</span>,</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<h3 id="参数"><a href="#参数" class="headerlink" title="参数"></a>参数</h3><ul>
<li>Image在显示图片时定义了一系列参数，通过这些参数可以控制图片的显示外观、大小、混合效果等。</li>
</ul>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> Image(&#123;</span><br><span class="line">  ...</span><br><span class="line">  <span class="keyword">this</span>.width,</span><br><span class="line">  <span class="keyword">this</span>.height,</span><br><span class="line">  <span class="keyword">this</span>.color, <span class="comment">// 图片的混合模式</span></span><br><span class="line">  <span class="keyword">this</span>.colorBlendMode, <span class="comment">// 混合模式</span></span><br><span class="line">  <span class="keyword">this</span>.fit, <span class="comment">// 缩放模式</span></span><br><span class="line">  <span class="keyword">this</span>.alignment = Alignment.cneter, <span class="comment">// 对齐方式</span></span><br><span class="line">  <span class="keyword">this</span>.repeat = ImageRepeat.noRepeat, <span class="comment">// 重复方式</span></span><br><span class="line">  ...</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<ul>
<li><p>width、height: 用于设置图片的宽、高，当不指定宽高时，图片会根据当前父容器的限制，尽可能的显示其原始大小，如果只设置width、height的其中一个，那么另一个属性默认会按比例缩放，但可以通过下面介绍的fit属性来指定适应规则。</p>
</li>
<li><p>fit: 该属性用于在图片的显示空间和图片本身大小不同时指定图片的适应模式。适应模式是在BoxFit中定义，它是一个枚举类型，有如下值：</p>
<ul>
<li>fill: 会拉伸充满显示空间，图片本身长宽比会发生变化，图片会变形。</li>
<li>会按图片的长宽比放大后居中填满显示空间，图片不会变形，超出显示空间部分会被剪裁。</li>
<li>contain：这是图片的默认适应规则，图片会在保证图片本身长宽比不变的情况下缩放以适应当前显示空间，图片不会变形.</li>
<li>fitWidth：图片的宽度会缩放到显示空间的宽度，高度会按比例缩放，然后居中显示，图片不会变形，超出显示空间部分会被剪裁.</li>
<li>none：图片没有适应策略，会在显示空间内显示图片，如果图片比显示空间大，则显示空间只会显示图片中间部分</li>
</ul>
</li>
<li><p>color和colorBlendMode：在图片绘制时，可以对每一个像素进行颜色混合处理，color指定混合色，而colorBlendMode指定混合模式，</p>
</li>
</ul>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Image(</span><br><span class="line">  image: AssetImage(<span class="string">"images/avatar.png"</span>),</span><br><span class="line">  width: <span class="number">100.0</span>,</span><br><span class="line">  color: Colors.blue,</span><br><span class="line">  colorBlendMode: BlendMode.differencef,</span><br><span class="line">);</span><br></pre></td></tr></table></figure>
<ul>
<li>repeat: 当图片大小小于显示空间时，指定图片的重复规则</li>
</ul>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Image(</span><br><span class="line">  image: AssetImage(<span class="string">"images/avatar.png"</span>),</span><br><span class="line">  width: <span class="number">100.0</span>,</span><br><span class="line">  height: <span class="number">200.0</span>,</span><br><span class="line">  repeat: ImageRepeat.repeatY,</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<h3 id="Image缓存"><a href="#Image缓存" class="headerlink" title="Image缓存"></a>Image缓存</h3><ul>
<li>Flutter框架对加载过的图片是有缓存的（内存），默认最大缓存数量是1000，最大缓存空间为100M。</li>
</ul>
<h3 id="Icon"><a href="#Icon" class="headerlink" title="Icon"></a>Icon</h3><ul>
<li>Flutter中，可以像Web开发一样使用iconfont，iconfont即“字体图标”，它是将图标做成字体文件，然后通过指定不同的字符而显示不同的图片</li>
</ul>
<blockquote>
<p>在字体文件中，每一个字符都对应一个位码，而每一个位码对应一个显示字形，不同的字体就是指字形不同，即字符对应的字形是不同的。而在iconfont中，只是将位码对应的字形做成了图标，所以不同的字符最终就会渲染成不同的图标。</p>
</blockquote>
<ul>
<li>在Flutter开发中，iconfont和图片相比之优势：<ul>
<li>体积小：可以减少安装包大小</li>
<li>矢量的：iconfont都是矢量图标</li>
<li>可以应用文本样式：可以像文本一样改变字体的颜色、大小</li>
<li>可以通过TextSpan和文本混用</li>
</ul>
</li>
</ul>
<h4 id="Material-Design字体图标"><a href="#Material-Design字体图标" class="headerlink" title="Material Design字体图标"></a>Material Design字体图标</h4><ul>
<li>Flutter默认包含了一套Material Design的字体图标，在pubspec.yaml文件中的配置如下：</li>
</ul>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">flutter:</span><br><span class="line">  uses-material-design: <span class="keyword">true</span></span><br></pre></td></tr></table></figure>
<ul>
<li>简单例子：</li>
</ul>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">String</span> icons = <span class="string">""</span>;</span><br><span class="line"></span><br><span class="line">icons += <span class="string">"\uE914"</span>;</span><br><span class="line"><span class="comment">// error: &amp;#xE000; or 0xE000 or E000</span></span><br><span class="line">icons += <span class="string">" \uE000"</span>;</span><br><span class="line"><span class="comment">// fingerprint: &amp;#xE90D; or 0xE90D or E90D</span></span><br><span class="line">icons += <span class="string">" \uE90D"</span>;</span><br><span class="line"></span><br><span class="line">Text(icons,</span><br><span class="line">  style: TextStyle(</span><br><span class="line">    fontFamily: <span class="string">"MaterialIcons"</span>,</span><br><span class="line">    fontSize: <span class="number">24.0</span>,</span><br><span class="line">    color: Colors.green</span><br><span class="line">  ),</span><br><span class="line">);</span><br></pre></td></tr></table></figure>
<ul>
<li>通过这个示例可以看到，使用图标就像使用文本一样，但是这种方式需要我们提供每个图标的码点，这并对开发者不友好，所以，Flutter封装了IconData和Icon来专门显示字体图标，上面的例子也可以用如下方式实现</li>
</ul>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Row(</span><br><span class="line">  mainAxisAlignment: MainAxisAlignment.center,</span><br><span class="line">  children: &lt;Widget&gt;[</span><br><span class="line">    Icon(Icons.accessible,color: Colors.green,),</span><br><span class="line">    Icon(Icons.error,color: Colors.green,),</span><br><span class="line">    Icon(Icons.fingerprint,color: Colors.green,),</span><br><span class="line">  ],</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<h3 id="使用自定义字体图标"><a href="#使用自定义字体图标" class="headerlink" title="使用自定义字体图标"></a>使用自定义字体图标</h3><h2 id="单选开关和复选框"><a href="#单选开关和复选框" class="headerlink" title="单选开关和复选框"></a>单选开关和复选框</h2><ul>
<li>Material组件提供Material风格的单选开关Switch 和 复选框 checkbox</li>
<li>它们都是继承自StatefulWidget，但它们本身不会保存当前选中状态，选中状态都是由父组件来管理的.</li>
<li>回调函数onChanged()</li>
</ul>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SwitchAndCheckBoxTestRoute</span> <span class="keyword">extends</span> <span class="title">StatefulWidget</span> </span>&#123;</span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  _SwitchAndCheckBoxTestRouteState createState() =&gt; _SwitchAndCheckBoxTestRouteState();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">_SwitchAndCheckBoxTestRouteState</span> <span class="keyword">extends</span> <span class="title">State</span>&lt;<span class="title">SwitchAndCheckBoxTestRoute</span>&gt; </span>&#123;</span><br><span class="line">  <span class="built_in">bool</span> _switchSelected = <span class="keyword">true</span>; <span class="comment">// 维护单选状态</span></span><br><span class="line">  <span class="built_in">bool</span> _checkboxSelected = <span class="keyword">true</span>; <span class="comment">// 维护复选框状态</span></span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="keyword">return</span> Column(</span><br><span class="line">      children: &lt;Widget&gt;[</span><br><span class="line">        Switch(</span><br><span class="line">          value: _switchSelected, <span class="comment">// 当前状态</span></span><br><span class="line">          onChanged: (value)&#123;</span><br><span class="line">            <span class="comment">// 重构页面</span></span><br><span class="line">            setState(() &#123;</span><br><span class="line">              _switchSelected = value;</span><br><span class="line">            &#125;);</span><br><span class="line">          &#125;,</span><br><span class="line">        ),</span><br><span class="line">        Checkbox(</span><br><span class="line">          value: _checkboxSelected,</span><br><span class="line">          activeColor: Colors.red, <span class="comment">// 选中时的颜色</span></span><br><span class="line">          onChanged: (value)&#123;</span><br><span class="line">            setState(() &#123;</span><br><span class="line">              _checkboxSelected = value;</span><br><span class="line">            &#125;);</span><br><span class="line">          &#125;,</span><br><span class="line">        )</span><br><span class="line">      ],</span><br><span class="line">    );</span><br><span class="line">  &#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="属性外观"><a href="#属性外观" class="headerlink" title="属性外观"></a>属性外观</h3><ul>
<li>Switch和Checkbox属性比较简单，读者可以查看API文档，它们都有一个activeColor属性，用于设置激活态的颜色。至于大小，到目前为止，Checkbox的大小是固定的，无法自定义，而Switch只能定义宽度，高度也是固定的。值得一提的是Checkbox有一个属性tristate ，表示是否为三态，其默认值为false ，这时Checkbox有两种状态即“选中”和“不选中”，对应的value值为true和false 。如果tristate值为true时，value的值会增加一个状态null，读者可以自行了解。</li>
</ul>

                
                <hr>
                <!-- Pager -->
                <ul class="pager">
                    
                    <li class="previous">
                        <a href="/2020/07/01/other-4-2020-07-01-flutterNote04/" data-toggle="tooltip" data-placement="top" title="Flutter学习笔记">&larr; Previous Post</a>
                    </li>
                    
                    
                    <li class="next">
                        <a href="/2020/06/26/使用RustWebAssembly0拷贝进行计算加速/" data-toggle="tooltip" data-placement="top" title="使用 Rust WebAssembly 0拷贝进行计算加速">Next Post &rarr;</a>
                    </li>
                    
                </ul>

                <!-- tip start -->
                

                
                <div class="comment_notes">
                    <p>
                        study well and make progress every day; study well and progress every day; study hard and make progress every day.
                    </p>
                </div>
                
                <!-- tip end -->

                <!-- Music start-->
                
                <!-- Music end -->

                <!-- Sharing -->
                
                <div class="social-share"  data-wechat-qrcode-helper="" align="center"></div>
                <!--  css & js -->
                <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/social-share.js/1.0.16/css/share.min.css">
                <script src="https://cdnjs.cloudflare.com/ajax/libs/social-share.js/1.0.16/js/social-share.min.js"></script>
                
                <!-- Sharing -->

                <!-- gitment start -->
                
                <!-- gitment end -->

                <!-- 来必力City版安装代码 -->
                
                <!-- City版安装代码已完成 -->

                <!-- disqus comment start -->
                
                <!-- disqus comment end -->
            </div>
            
            <!-- Tabe of Content -->
            <!-- Table of Contents -->

    
      
        <aside id="sidebar">
          <div id="toc" class="toc-article">
          <strong class="toc-title">Contents</strong>
          
            
              <ol class="toc-nav"><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#Flutter-SDK内置组件库介绍"><span class="toc-nav-number">1.</span> <span class="toc-nav-text">Flutter SDK内置组件库介绍</span></a></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#状态管理"><span class="toc-nav-number">2.</span> <span class="toc-nav-text">状态管理</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#Widget管理自身状态"><span class="toc-nav-number">2.1.</span> <span class="toc-nav-text">Widget管理自身状态</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#父Widget管理子Widget的状态"><span class="toc-nav-number">2.2.</span> <span class="toc-nav-text">父Widget管理子Widget的状态</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#混合状态管理"><span class="toc-nav-number">2.3.</span> <span class="toc-nav-text">混合状态管理</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#全局状态管理"><span class="toc-nav-number">2.4.</span> <span class="toc-nav-text">全局状态管理</span></a></li></ol></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#文本及样式"><span class="toc-nav-number">3.</span> <span class="toc-nav-text">文本及样式</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#Text"><span class="toc-nav-number">3.1.</span> <span class="toc-nav-text">Text</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#TextStyle"><span class="toc-nav-number">3.2.</span> <span class="toc-nav-text">TextStyle</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#TextSpan"><span class="toc-nav-number">3.3.</span> <span class="toc-nav-text">TextSpan</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#DefaultTextStyle"><span class="toc-nav-number">3.4.</span> <span class="toc-nav-text">DefaultTextStyle</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#字体"><span class="toc-nav-number">3.5.</span> <span class="toc-nav-text">字体</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#在asset中声明"><span class="toc-nav-number">3.5.1.</span> <span class="toc-nav-text">在asset中声明</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#使用字体"><span class="toc-nav-number">3.5.2.</span> <span class="toc-nav-text">使用字体</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#Package中的字体"><span class="toc-nav-number">3.5.3.</span> <span class="toc-nav-text">Package中的字体</span></a></li></ol></li></ol></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#按钮"><span class="toc-nav-number">4.</span> <span class="toc-nav-text">按钮</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#RaisedButton"><span class="toc-nav-number">4.1.</span> <span class="toc-nav-text">RaisedButton</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#FlatButton"><span class="toc-nav-number">4.2.</span> <span class="toc-nav-text">FlatButton</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#OutlineButton"><span class="toc-nav-number">4.3.</span> <span class="toc-nav-text">OutlineButton</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#IconButton"><span class="toc-nav-number">4.4.</span> <span class="toc-nav-text">IconButton</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#带图标的按钮"><span class="toc-nav-number">4.5.</span> <span class="toc-nav-text">带图标的按钮</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#自定义按钮外观"><span class="toc-nav-number">4.6.</span> <span class="toc-nav-text">自定义按钮外观</span></a></li></ol></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#图片及ICON"><span class="toc-nav-number">5.</span> <span class="toc-nav-text">图片及ICON</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#图片"><span class="toc-nav-number">5.1.</span> <span class="toc-nav-text">图片</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#ImageProvide"><span class="toc-nav-number">5.2.</span> <span class="toc-nav-text">ImageProvide</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#Image"><span class="toc-nav-number">5.3.</span> <span class="toc-nav-text">Image</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#从asset中加载图片"><span class="toc-nav-number">5.4.</span> <span class="toc-nav-text">从asset中加载图片</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#从网络加载图片"><span class="toc-nav-number">5.5.</span> <span class="toc-nav-text">从网络加载图片</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#参数"><span class="toc-nav-number">5.6.</span> <span class="toc-nav-text">参数</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#Image缓存"><span class="toc-nav-number">5.7.</span> <span class="toc-nav-text">Image缓存</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#Icon"><span class="toc-nav-number">5.8.</span> <span class="toc-nav-text">Icon</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#Material-Design字体图标"><span class="toc-nav-number">5.8.1.</span> <span class="toc-nav-text">Material Design字体图标</span></a></li></ol></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#使用自定义字体图标"><span class="toc-nav-number">5.9.</span> <span class="toc-nav-text">使用自定义字体图标</span></a></li></ol></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#单选开关和复选框"><span class="toc-nav-number">6.</span> <span class="toc-nav-text">单选开关和复选框</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#属性外观"><span class="toc-nav-number">6.1.</span> <span class="toc-nav-text">属性外观</span></a></li></ol></li></ol>
            
          
          </div>
        </aside>
      
    

                
            <!-- Sidebar Container -->
            <div class="
                col-lg-8 col-lg-offset-2
                col-md-10 col-md-offset-1
                sidebar-container">

                <!-- Featured Tags -->
                
                <section>
                    <!-- no hr -->
                    <h5><a href="/tags/">FEATURED TAGS</a></h5>
                    <div class="tags">
                       
                          <a class="tag" href="/tags/#flutter" title="flutter">flutter</a>
                        
                    </div>
                </section>
                

                <!-- Friends Blog -->
                
                <hr>
                <h5>FRIENDS</h5>
                <ul class="list-inline">

                    
                        <li><a href="https://blog.csdn.net/fenglepeng" target="_blank">Feng Lepeng&#39;s CSDN</a></li>
                    
                </ul>
                
            </div>
        </div>
    </div>
</article>




<!-- async load function -->
<script>
    function async(u, c) {
      var d = document, t = 'script',
          o = d.createElement(t),
          s = d.getElementsByTagName(t)[0];
      o.src = u;
      if (c) { o.addEventListener('load', function (e) { c(null, e); }, false); }
      s.parentNode.insertBefore(o, s);
    }
</script>
<!-- anchor-js, Doc:http://bryanbraun.github.io/anchorjs/ -->
<script>
    async("https://cdn.bootcss.com/anchor-js/1.1.1/anchor.min.js",function(){
        anchors.options = {
          visible: 'hover',
          placement: 'left',
          icon: 'ℬ'
        };
        anchors.add().remove('.intro-header h1').remove('.subheading').remove('.sidebar-container h5');
    })
</script>


<style  type="text/css">
    /* place left on bigger screen */
    @media all and (min-width: 800px) {
        .anchorjs-link{
            position: absolute;
            left: -0.75em;
            font-size: 1.1em;
            margin-top : -0.1em;
        }
    }
</style>



    <!-- Footer -->
    <!-- Footer -->
<footer>
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <ul class="list-inline text-center">

                

                

                

                

                

                

                

                </ul>
                <p class="copyright text-muted">
                    Copyright &copy;
                    <a href="https://beian.miit.gov.cn/" target="_blank" rel="noopener">京ICP备18055501号-2</a>;
                    Feng Lepeng 2022
                    <br>
                    Powered by 
                    <a href="https://github.com/dusign/hexo-theme-snail" target="_blank" rel="noopener">
                        <i>hexo-theme-snail</i>
                    </a> | 
                    <iframe name="star" style="margin-left: 2px; margin-bottom:-5px;" frameborder="0" scrolling="0"
                        width="100px" height="20px"
                        src="https://ghbtns.com/github-btn.html?user=flepeng&repo=hexo-theme-lp&type=star">
                    </iframe>
                </p>
            </div>
        </div>
    </div>

</footer>

<!-- jQuery -->

<script src="/js/jquery.min.js"></script>


<!-- Bootstrap Core JavaScript -->

<script src="/js/bootstrap.min.js"></script>


<!-- Custom Theme JavaScript -->

<script src="/js/hux-blog.min.js"></script>


<!-- Search -->

<script src="/js/search.js"></script>


<!-- async load function -->
<script>
    function async(u, c) {
      var d = document, t = 'script',
          o = d.createElement(t),
          s = d.getElementsByTagName(t)[0];
      o.src = u;
      if (c) { o.addEventListener('load', function (e) { c(null, e); }, false); }
      s.parentNode.insertBefore(o, s);
    }
</script>


<!-- jquery.tagcloud.js -->
<script>
    // only load tagcloud.js in tag.html
    if($('#tag_cloud').length !== 0){
        async("https://flepeng.github.io/js/jquery.tagcloud.js",function(){
            $.fn.tagcloud.defaults = {
                //size: {start: 1, end: 1, unit: 'em'},
                color: {start: '#bbbbee', end: '#0085a1'},
            };
            $('#tag_cloud a').tagcloud();
        })
    }
</script>

<!--fastClick.js -->
<script>
    async("https://cdn.bootcss.com/fastclick/1.0.6/fastclick.min.js", function(){
        var $nav = document.querySelector("nav");
        if($nav) FastClick.attach($nav);
    })
</script>


<!-- Google Analytics -->


<script>
    // dynamic User by Hux
    var _gaId = 'UA-XXXXXXXX-X';
    var _gaDomain = 'yoursite';

    // Originial
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', _gaId, _gaDomain);
    ga('send', 'pageview');
</script>




<!-- Baidu Tongji -->


<!-- Search -->

    <script type="text/javascript">      
        var search_path = "search.xml";
        if (search_path.length == 0) {
            search_path = "search.xml";
        }
    var path = "/" + search_path;
    searchFunc(path, 'local-search-input', 'local-search-result');
    </script>


<!-- busuanzi -->
<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>






	<a id="rocket" href="#top" class=""></a>
	<script type="text/javascript" src="/js/totop.js?v=1.0.0" async=""></script>
    <script type="text/javascript" src="/js/toc.js?v=1.0.0" async=""></script>

    
        <!-- background effects line -->
        

        
            <script type="text/javascript" src="/js/mouse-click.js" content='[&quot;🌱&quot;,&quot;just do it&quot;,&quot;🍀&quot;]' color='[&quot;rgb(121,93,179)&quot; ,&quot;rgb(76,180,231)&quot; ,&quot;rgb(184,90,154)&quot;]'></script>
        

        <!-- background effects end -->
    

    <!--<script size="50" alpha='0.3' zIndex="-999" src="/js/ribbonStatic.js"></script>-->
    
        <script src="/js/ribbonDynamic.js"></script>
    
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        tex2jax: {
            inlineMath: [ ["$","$"], ["\\(","\\)"] ],
            skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code'],
            processEscapes: true
        }
    });
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax();
        for (var i = 0; i < all.length; ++i)
            all[i].SourceElement().parentNode.className += ' has-jax';
    });
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.6/MathJax.js?config=TeX-MML-AM_CHTML"></script>
<!--<script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>-->
</body>

</html>
